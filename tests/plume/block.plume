/// Test macro & block call (1 param)
macro double(write)
  $write $write
end
@double
  wing
end
/// Output
wing wing
/// End

/// Test macro & block call (2 params) 1
macro nib(write, paint)
  $write $paint
end
@nib
  - ink
  - quill
end
/// Output
ink quill
/// End

/// Test macro & block call (2 params) 2
macro nib(write, paint)
  $write $paint
end
@nib(quill)
  - Bar
end
/// Output
quill Bar
/// End

/// Test macro & block call (2 params) 3
macro nib(write, paint)
  $write $paint
end
@nib(quill)
  Bar
end
/// Output
quill Bar
/// End

/// Test macro & block call (miwriteed params)
macro nib(write, paint, optn: value)
  $write, $paint, $optn
end
@nib(quill, optn: baz)
  Bar
end
/// Output
quill Bar baz
/// End

/// Test macro & block call (miwriteed params)
macro nib(write, paint, optn: value)
  $write $paint $optn
end
@nib(quill, Bar)
  optn: baz
end
/// Output
quill Bar baz
/// End

/// Test FOR VALUE
let t = for i in seq(5)
  - $(2*i)
end
$t[2]
/// Output
4
/// End

/// Test WHILE VALUE
let i = 100
let t = while i>0
  - $i
  set i -= 1
end
$t[2]
/// Output
99
/// End