/// Test simple macro & block call
macro foo()
  Bar
end
@foo
end
/// Output
Bar
/// End

/// Test macro & block call (1 param)
macro double(x)
  $x $x
end
@double
  Foo
end
/// Output
Foo Foo
/// End

/// Test macro & block call (2 params) 1
macro f(x, y)
  $x $y
end
@f
  - Foo
  - Bar
end
/// Output
Foo Bar
/// End

/// Test macro & block call (2 params) 2
macro f(x, y)
  $x $y
end
@f(Foo)
  - Bar
end
/// Output
Foo Bar
/// End

/// Test macro & block call (2 params) 3
macro f(x, y)
  $x $y
end
@f(Foo)
  Bar
end
/// Output
Foo Bar
/// End

/// Test macro & block call (mixed params)
macro f(x, y, optn: value)
  $x, $y, $optn
end
@f(Foo, optn: baz)
  Bar
end
/// Output
Foo Bar baz
/// End

/// Test macro & block call (mixed params)
macro f(x, y, optn: value)
  $x, $y, $optn
@f(Foo, Bar)
  optn: baz
end
/// Output
Foo Bar baz
/// End