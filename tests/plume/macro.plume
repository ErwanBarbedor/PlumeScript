/// Test simple macro & call
macro quill()
  mark
end
$quill()
/// Output
mark
/// End

/// Test macro & call (1 param)
macro double(write)
  $write $write
end
$double(quill)
/// Output
quill quill
/// End

/// Test macro & call (2 params)
macro f(write, paint)
  $write $paint
end
$f(quill, mark)
/// Output
quill mark
/// End

/// Test macro & call (named params)
macro f(optn: value)
  $optn
end
$f()\n
$f(optn: another value)
/// Output
value
another value
/// End

/// Test macro & call (miwriteed params)
macro f(write, paint, optn: value)
  $write $paint $optn
end
$f(quill, mark)\n
$f(quill, ink, optn: another value)
/// Output
quill mark value
quill ink another value
/// End

/// Test macro scope
let write = 5
macro f()
  let write = 3
  $write
end
$f()\n
$write
/// Output
3
5
/// End

/// Test macro nested
macro double(write)
  $write $write
end

$double($double(quill))
/// Output
quill quill quill quill
/// End

/// Test long argument
macro id(write)
  $write
end

$id(This is quite long\, i think.)
/// Output
This is quite long, i think.
/// End