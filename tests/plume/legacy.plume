/// Test enumerate
let t = $table(quill, wing, bird)
@join(sep:\n)
  for item in enumerate(t, legacy: true)
    - Item $item.index is $item.value.
  end
end
/// Output
Item 1 is quill.
Item 2 is wing.
Item 3 is bird.
/// End

/// Test items
let t = $table(first: quill, second: wing, bonus: bird)
@join(sep:\n)
  for item in items(t, legacy: true)
    - Item "$item.key" is _($item.value)_.
  end
end
/// Output
Item "first" is _(quill)_.
Item "second" is _(wing)_.
Item "bonus" is _(bird)_.
/// End

/// Test lua import
let double = $import(tests/plume/toimport/lib, ?lua)

$double(3)
/// Output
6
/// End

/// Test table append
let t = @table
  - Wing
  - Nib
  quill: blue
end
$len($t)\n
$append($t, paint)
$len($t)
/// Output
2
3
/// End

/// Test table remove
let t = @table
  - Wing
  - Nib
  quill: blue
end
$len($t)\n
$remove($t)\n
$len($t)
/// Output
2
Nib
1
/// End