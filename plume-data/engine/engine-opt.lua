--[[This file is part of Plume

PlumeðŸª¶ is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, version 3 of the License.

PlumeðŸª¶ is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with PlumeðŸª¶.
If not, see <https://www.gnu.org/licenses/>.
]]

-- Generated by make-engine-opt.lua
-- It is an inlined and optimized version of engine.lua
return function (plume)
    function plume._run (chunk, arguments)
        require ("table.new")
        local runtime = chunk
        local bytecode = chunk.bytecode
        local constants = chunk.constants
        local static = chunk.static
        local ip = 0
        local tic = 0
        local mainStack = table.new (2 ^ 14, 0)
        local mainStackFrames = table.new (2 ^ 8, 0)
        local mainStackPointer = 0
        local mainStackFramesPointer = 0
        local variableStack = table.new (2 ^ 10, 0)
        local variableStackFrames = table.new (2 ^ 8, 0)
        local variableStackPointer = 0
        local variableStackFramesPointer = 0
        local fileStack = table.new (2 ^ 8, 0)
        fileStack[1] = 1
        local fileStackPointer = 1
        local macroStack = table.new (2 ^ 8, 0)
        local macroStackPointer = 0
        local injectionStack = table.new (64, 0)
        local injectionStackPointer = 0
        local tagStack = table.new (2 ^ 14, 0)
        local jump = 0
        local empty = plume.obj.empty
        local flag = {}
        local ITER_TABLE = 0
        local ITER_SEQ = 1
        local ITER_ITEMS = 2
        local ITER_ENUMS = 3
        local bit = require ("bit")
        local OP_BITS = 7
        local ARG1_BITS = 5
        local ARG2_BITS = 20
        local ARG1_SHIFT = ARG2_BITS
        local OP_SHIFT = ARG1_BITS + ARG2_BITS
        local MASK_OP = bit.lshift (1, OP_BITS) - 1
        local MASK_ARG1 = bit.lshift (1, ARG1_BITS) - 1
        local MASK_ARG2 = bit.lshift (1, ARG2_BITS) - 1
        local band = bit.band
        local rshift = bit.rshift
        local op, arg1, arg2, vmerr, vmserr
        ::DISPATCH::
            if vmerr then
                return false, vmerr, ip, runtime
            end
            if vmserr then
                return false, unpack (vmserr)
            end
            local _ret1, _ret2, _ret3
            local op, arg1, arg2
            local _ret11
            do
                local _ret12
                _ret12 = injectionStack[injectionStackPointer]
                local _ret13
                _ret13 = macroStackPointer
                _ret11 = injectionStackPointer > 0 and _ret12 == _ret13
                goto _inline_end9
            end
            ::_inline_end9::
            if _ret11 then
                local _ret4, _ret5, _ret6
                do
                    local _ret7
                    injectionStackPointer = injectionStackPointer - 1
                    _ret7 = injectionStack[injectionStackPointer + 1]
                    local _ret8
                    injectionStackPointer = injectionStackPointer - 1
                    _ret8 = injectionStack[injectionStackPointer + 1]
                    local arg2 = _ret8
                    local _ret9
                    injectionStackPointer = injectionStackPointer - 1
                    _ret9 = injectionStack[injectionStackPointer + 1]
                    local arg1 = _ret9
                    local _ret10
                    injectionStackPointer = injectionStackPointer - 1
                    _ret10 = injectionStack[injectionStackPointer + 1]
                    local op = _ret10
                    _ret4, _ret5, _ret6 = op, arg1, arg2
                    goto _inline_end4
                end
                ::_inline_end4::
                op, arg1, arg2 = _ret4, _ret5, _ret6
            else
                if jump > 0 then
                    ip = jump
                    jump = 0
                else
                    ip = ip + 1
                end
                tic = tic + 1
                local instr = bytecode[ip]
                op = band (rshift (instr, OP_SHIFT)
                , MASK_OP)
                arg1 = band (rshift (instr, ARG1_SHIFT)
                , MASK_ARG1)
                arg2 = band (instr, MASK_ARG2)
            end
            _ret1, _ret2, _ret3 = op, arg1, arg2
            op, arg1, arg2 = _ret1, _ret2, _ret3
            if op < 32 then
                if op < 16 then
                    if op < 8 then
                        if op < 4 then
                            if op < 2 then
                                if op < 1 then
                                else
                                    goto LOAD_CONSTANT
                                end
                            else
                                if op < 3 then
                                    goto LOAD_TRUE
                                else
                                    goto LOAD_FALSE
                                end
                            end
                        else
                            if op < 6 then
                                if op < 5 then
                                    goto LOAD_EMPTY
                                else
                                    goto LOAD_LOCAL
                                end
                            else
                                if op < 7 then
                                    goto LOAD_STATIC
                                else
                                    goto STORE_LOCAL
                                end
                            end
                        end
                    else
                        if op < 12 then
                            if op < 10 then
                                if op < 9 then
                                    goto STORE_STATIC
                                else
                                    goto STORE_VOID
                                end
                            else
                                if op < 11 then
                                    goto TABLE_NEW
                                else
                                    goto TABLE_SET
                                end
                            end
                        else
                            if op < 14 then
                                if op < 13 then
                                    goto TABLE_INDEX
                                else
                                    goto TABLE_REGISTER_SELF
                                end
                            else
                                if op < 15 then
                                    goto TABLE_SET_META
                                else
                                    goto TABLE_SET_ACC
                                end
                            end
                        end
                    end
                else
                    if op < 24 then
                        if op < 20 then
                            if op < 18 then
                                if op < 17 then
                                    goto TABLE_EXPAND
                                else
                                    goto CALL_INDEX_REGISTER_SELF
                                end
                            else
                                if op < 19 then
                                    goto TAG_META_KEY
                                else
                                    goto TAG_KEY
                                end
                            end
                        else
                            if op < 22 then
                                if op < 21 then
                                    goto ENTER_SCOPE
                                else
                                    goto LEAVE_SCOPE
                                end
                            else
                                if op < 23 then
                                    goto BEGIN_ACC
                                else
                                    goto CONCAT_TABLE
                                end
                            end
                        end
                    else
                        if op < 28 then
                            if op < 26 then
                                if op < 25 then
                                    goto CONCAT_TEXT
                                else
                                    goto CONCAT_CALL
                                end
                            else
                                if op < 27 then
                                    goto CHECK_IS_TEXT
                                else
                                    goto JUMP_IF
                                end
                            end
                        else
                            if op < 30 then
                                if op < 29 then
                                    goto JUMP_IF_NOT
                                else
                                    goto JUMP_IF_NOT_EMPTY
                                end
                            else
                                if op < 31 then
                                    goto JUMP_FOR
                                else
                                    goto JUMP
                                end
                            end
                        end
                    end
                end
            else
                if op < 48 then
                    if op < 40 then
                        if op < 36 then
                            if op < 34 then
                                if op < 33 then
                                    goto JUMP_IF_PEEK
                                else
                                    goto JUMP_IF_NOT_PEEK
                                end
                            else
                                if op < 35 then
                                    goto GET_ITER
                                else
                                    goto FOR_ITER
                                end
                            end
                        else
                            if op < 38 then
                                if op < 37 then
                                    goto OP_ADD
                                else
                                    goto OP_MUL
                                end
                            else
                                if op < 39 then
                                    goto OP_SUB
                                else
                                    goto OP_DIV
                                end
                            end
                        end
                    else
                        if op < 44 then
                            if op < 42 then
                                if op < 41 then
                                    goto OP_NEG
                                else
                                    goto OP_MOD
                                end
                            else
                                if op < 43 then
                                    goto OP_POW
                                else
                                    goto OP_LT
                                end
                            end
                        else
                            if op < 46 then
                                if op < 45 then
                                    goto OP_EQ
                                else
                                    goto OP_AND
                                end
                            else
                                if op < 47 then
                                    goto OP_NOT
                                else
                                    goto OP_OR
                                end
                            end
                        end
                    end
                else
                    if op < 56 then
                        if op < 52 then
                            if op < 50 then
                                if op < 49 then
                                    goto DUPLICATE
                                else
                                    goto SWITCH
                                end
                            else
                                if op < 51 then
                                    goto RETURN
                                else
                                    goto RETURN_FILE
                                end
                            end
                        else
                            if op < 54 then
                                if op < 53 then
                                    goto END
                                else
                                    goto STD_LEN
                                end
                            else
                                if op < 55 then
                                    goto STD_TYPE
                                else
                                    goto STD_SEQ
                                end
                            end
                        end
                    else
                        if op < 60 then
                            if op < 58 then
                                if op < 57 then
                                    goto STD_ITEMS
                                else
                                    goto STD_ENUMERATE
                                end
                            end
                        end
                    end
                end
            end
            ::LOAD_CONSTANT::
                mainStackPointer = mainStackPointer + 1
                mainStack[mainStackPointer] = constants[arg2]
                goto DISPATCH
            ::LOAD_TRUE::
                mainStackPointer = mainStackPointer + 1
                mainStack[mainStackPointer] = true
                goto DISPATCH
            ::LOAD_FALSE::
                mainStackPointer = mainStackPointer + 1
                mainStack[mainStackPointer] = false
                goto DISPATCH
            ::LOAD_EMPTY::
                mainStackPointer = mainStackPointer + 1
                mainStack[mainStackPointer] = empty
                goto DISPATCH
            ::LOAD_LOCAL::
                do
                    local _ret14
                    do
                        local _ret15
                        _ret15 = variableStackFrames[variableStackFramesPointer + (-arg1 or 0)]
                        local _ret16
                        _ret16 = variableStack[_ret15 + (arg2 - 1 or 0) or variableStackPointer]
                        _ret14 = _ret16
                        goto _inline_end22
                    end
                    ::_inline_end22::
                    mainStackPointer = mainStackPointer + 1
                    mainStack[mainStackPointer] = _ret14
                end
                goto DISPATCH
            ::LOAD_STATIC::
                do
                    local _ret17
                    _ret17 = fileStack[fileStackPointer]
                    mainStackPointer = mainStackPointer + 1
                    mainStack[mainStackPointer] = static[_ret17][arg2]
                end
                goto DISPATCH
            ::STORE_LOCAL::
                do
                    local _ret18
                    mainStackPointer = mainStackPointer - 1
                    _ret18 = mainStack[mainStackPointer + 1]
                    do
                        local _ret19
                        _ret19 = variableStackFrames[variableStackFramesPointer + -arg1 or 0]
                        variableStack[_ret19 + (arg2 - 1 or 0)] = _ret18
                    end
                end
                goto DISPATCH
            ::STORE_STATIC::
                do
                    local _ret20
                    mainStackPointer = mainStackPointer - 1
                    _ret20 = mainStack[mainStackPointer + 1]
                    local _ret21
                    _ret21 = fileStack[fileStackPointer]
                    static[_ret21][arg2] = _ret20
                end
                goto DISPATCH
            ::STORE_VOID::
                do
                    local _ret22
                    mainStackPointer = mainStackPointer - 1
                    _ret22 = mainStack[mainStackPointer + 1]
                end
                goto DISPATCH
            ::TABLE_NEW::
                mainStackPointer = mainStackPointer + 1
                mainStack[mainStackPointer] = table.new (0, arg1)
                goto DISPATCH
            ::TABLE_SET::
                do
                    local t, key, value
                    if arg1 == 1 then
                        local _ret23
                        mainStackPointer = mainStackPointer - 1
                        _ret23 = mainStack[mainStackPointer + 1]
                        value = _ret23
                        local _ret24
                        mainStackPointer = mainStackPointer - 1
                        _ret24 = mainStack[mainStackPointer + 1]
                        key = _ret24
                        local _ret25
                        mainStackPointer = mainStackPointer - 1
                        _ret25 = mainStack[mainStackPointer + 1]
                        t = _ret25
                    else
                        local _ret28
                        mainStackPointer = mainStackPointer - 1
                        _ret28 = mainStack[mainStackPointer + 1]
                        goto _inline_end47
                        ::_inline_end47::
                        t = _ret28
                        local _ret27
                        mainStackPointer = mainStackPointer - 1
                        _ret27 = mainStack[mainStackPointer + 1]
                        goto _inline_end46
                        ::_inline_end46::
                        key = _ret27
                        local _ret26
                        mainStackPointer = mainStackPointer - 1
                        _ret26 = mainStack[mainStackPointer + 1]
                        goto _inline_end45
                        ::_inline_end45::
                        value = _ret26
                    end
                    local meta
                    if not t.table[key] then
                        table.insert (t.keys, key)
                        meta = t.meta.table.setindex
                        if meta then
                            t.table[key] = empty
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = t
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = key
                            mainStackFramesPointer = mainStackFramesPointer + 1
                            mainStackFrames[mainStackFramesPointer] = mainStackPointer + 1
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = key
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = value
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = t
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = "self"
                            do
                                local _ret29
                                _ret29 = mainStackPointer
                                local pos = _ret29
                                tagStack[pos] = "key"
                            end
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = meta
                            do
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = plume.ops.TABLE_SET
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = 1
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = 0
                                local _ret30
                                _ret30 = macroStackPointer
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = _ret30
                            end
                            do
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = plume.ops.CONCAT_CALL
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = 0
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = 0
                                local _ret31
                                _ret31 = macroStackPointer
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = _ret31
                            end
                        end
                    end
                    if not meta then
                        key = tonumber (key) or key
                        t.table[key] = value
                    end
                end
                goto DISPATCH
            ::TABLE_INDEX::
                do
                    local _ret32
                    mainStackPointer = mainStackPointer - 1
                    _ret32 = mainStack[mainStackPointer + 1]
                    local t = _ret32
                    local _ret33
                    mainStackPointer = mainStackPointer - 1
                    _ret33 = mainStack[mainStackPointer + 1]
                    local key = _ret33
                    key = tonumber (key) or key
                    if key == empty then
                        if arg1 == 1 then
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = empty
                        else
                            vmerr = plume.error.cannotUseEmptyAsKey ()
                        end
                    else
                        local _ret36
                        _ret36 = type (t) == "table" and (t == empty or t.type) or (type (t) == "cdata" and t.type) or type (t)
                        goto _inline_end101
                        ::_inline_end101::
                        local tt = _ret36
                        if tt ~= "table" then
                            if arg1 == 1 then
                                mainStackPointer = mainStackPointer + 1
                                mainStack[mainStackPointer] = empty
                            else
                                vmerr = plume.error.cannotIndexValue (tt)
                            end
                        else
                            local value = t.table[key]
                            if value then
                                mainStackPointer = mainStackPointer + 1
                                mainStack[mainStackPointer] = value
                            else
                                if arg1 == 1 then
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = empty
                                elseif t.meta.table.getindex then
                                    local meta = t.meta.table.getindex
                                    mainStackFramesPointer = mainStackFramesPointer + 1
                                    mainStackFrames[mainStackFramesPointer] = mainStackPointer + 1
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = key
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = t
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = "self"
                                    do
                                        local _ret34
                                        _ret34 = mainStackPointer
                                        local pos = _ret34
                                        tagStack[pos] = "key"
                                    end
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = meta
                                    do
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = plume.ops.CONCAT_CALL
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = 0
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = 0
                                        local _ret35
                                        _ret35 = macroStackPointer
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = _ret35
                                    end
                                else
                                    if tonumber (key)
                                     then
                                        vmerr = plume.error.invalidKey (key)
                                    else
                                        vmerr = plume.error.unregisteredKey (key)
                                    end
                                end
                            end
                        end
                    end
                end
                goto DISPATCH
            ::TABLE_REGISTER_SELF::
                TABLE_REGISTER_SELF (vm, arg1, arg2)
                goto DISPATCH
            ::TABLE_SET_META::
                do
                    local _ret37
                    mainStackPointer = mainStackPointer - 1
                    _ret37 = mainStack[mainStackPointer + 1]
                    local t = _ret37
                    local _ret38
                    mainStackPointer = mainStackPointer - 1
                    _ret38 = mainStack[mainStackPointer + 1]
                    local key = _ret38
                    local _ret39
                    mainStackPointer = mainStackPointer - 1
                    _ret39 = mainStack[mainStackPointer + 1]
                    local value = _ret39
                    t.meta.table[key] = value
                end
                goto DISPATCH
            ::TABLE_SET_ACC::
                do
                    local _ret40
                    do
                        local _ret41
                        _ret41 = mainStackFrames[mainStackFramesPointer]
                        local _ret42
                        _ret42 = mainStack[_ret41 or mainStackPointer]
                        _ret40 = _ret42
                        goto _inline_end107
                    end
                    ::_inline_end107::
                    local t = _ret40
                    local _ret43
                    mainStackPointer = mainStackPointer - 1
                    _ret43 = mainStack[mainStackPointer + 1]
                    table.insert (t, _ret43)
                    local _ret44
                    mainStackPointer = mainStackPointer - 1
                    _ret44 = mainStack[mainStackPointer + 1]
                    table.insert (t, _ret44)
                    table.insert (t, arg2 == 1)
                end
                goto DISPATCH
            ::TABLE_EXPAND::
                do
                    local _ret45
                    mainStackPointer = mainStackPointer - 1
                    _ret45 = mainStack[mainStackPointer + 1]
                    local t = _ret45
                    local _ret46
                    _ret46 = type (t) == "table" and (t == empty or t.type) or (type (t) == "cdata" and t.type) or type (t)
                    local tt = _ret46
                    if tt == "table" then
                        for _, item in ipairs (t.table)
                         do
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = item
                        end
                        for _, key in ipairs (t.keys)
                         do
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = t.table[key]
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = key
                            do
                                local _ret47
                                _ret47 = mainStackPointer
                                local pos = _ret47
                                tagStack[pos] = "key"
                            end
                        end
                    else
                        vmerr = plume.error.cannotExpandValue (tt)
                    end
                end
                goto DISPATCH
            ::CALL_INDEX_REGISTER_SELF::
                do
                    local _ret48
                    mainStackPointer = mainStackPointer - 1
                    _ret48 = mainStack[mainStackPointer + 1]
                    local t = _ret48
                    local _ret49
                    mainStackPointer = mainStackPointer - 1
                    _ret49 = mainStack[mainStackPointer + 1]
                    local index = _ret49
                    mainStackPointer = mainStackPointer + 1
                    mainStack[mainStackPointer] = t
                    mainStackPointer = mainStackPointer + 1
                    mainStack[mainStackPointer] = "self"
                    do
                        local _ret50
                        _ret50 = mainStackPointer
                        local pos = _ret50
                        tagStack[pos] = "key"
                    end
                    mainStackPointer = mainStackPointer + 1
                    mainStack[mainStackPointer] = index
                    mainStackPointer = mainStackPointer + 1
                    mainStack[mainStackPointer] = t
                end
                goto DISPATCH
            ::TAG_META_KEY::
                do
                    local _ret51
                    _ret51 = mainStackPointer
                    local pos = _ret51
                    tagStack[pos] = "metakey"
                end
                goto DISPATCH
            ::TAG_KEY::
                do
                    local _ret52
                    _ret52 = mainStackPointer
                    local pos = _ret52
                    tagStack[pos] = "key"
                end
                goto DISPATCH
            ::ENTER_SCOPE::
                do
                    local _ret53
                    _ret53 = variableStackPointer
                    variableStackFramesPointer = variableStackFramesPointer + 1
                    variableStackFrames[variableStackFramesPointer] = _ret53 + 1 - arg1
                    for i = 1, arg2 - arg1 do
                        variableStackPointer = variableStackPointer + 1
                        variableStack[variableStackPointer] = empty
                    end
                end
                goto DISPATCH
            ::LEAVE_SCOPE::
                do
                    local _ret54
                    variableStackFramesPointer = variableStackFramesPointer - 1
                    _ret54 = variableStackFrames[variableStackFramesPointer + 1]
                    variableStackPointer = _ret54 - 1
                end
                goto DISPATCH
            ::BEGIN_ACC::
                mainStackFramesPointer = mainStackFramesPointer + 1
                mainStackFrames[mainStackFramesPointer] = mainStackPointer + 1
                goto DISPATCH
            ::CONCAT_TABLE::
                do
                    local _ret55, _ret56, _ret57, _ret58
                    do
                        local argsOffset = 1
                        local _ret59
                        _ret59 = mainStackFrames[mainStackFramesPointer]
                        local frameOffset = _ret59
                        local bufferOffset = frameOffset
                        local _ret60
                        _ret60 = mainStackPointer
                        local mainStackTop = _ret60
                        local variadicTable
                        if true then
                            local max = mainStackTop - bufferOffset + 1
                            variadicTable = plume.obj.table (max, max / 2)
                        end
                        local tomanyPositionnalCounter = 0
                        local capturedCount = 0
                        local unknowNamed
                        while bufferOffset <= mainStackTop do
                            local tag = tagStack[bufferOffset + 1]
                            local _ret61
                            _ret61 = mainStack[bufferOffset or mainStackPointer]
                            local value = _ret61
                            if tag == nil then
                                if argsOffset <= 0 then
                                    do
                                        local _ret62
                                        _ret62 = variableStackFrames[variableStackFramesPointer or 0]
                                        variableStack[_ret62 + (argsOffset - 1 or 0)] = value
                                    end
                                    capturedCount = capturedCount + 1
                                elseif variadicTable then
                                    table.insert (variadicTable.table, value)
                                else
                                    tomanyPositionnalCounter = tomanyPositionnalCounter + 1
                                end
                                argsOffset = argsOffset + 1
                            else
                                bufferOffset = bufferOffset + 1
                                local _ret66
                                _ret66 = mainStack[bufferOffset or mainStackPointer]
                                goto _inline_end158
                                ::_inline_end158::
                                local key = _ret66
                                local argOffset = nil and (nil)[key]
                                if argOffset then
                                    if tag == "key" then
                                        do
                                            local _ret63
                                            _ret63 = variableStackFrames[variableStackFramesPointer or 0]
                                            variableStack[_ret63 + (argOffset - 1 or 0)] = value
                                        end
                                    else
                                        vmerr = plume.error.cannotUseMetaKey
                                    end
                                else
                                    if variadicTable then
                                        if tag == "key" then
                                            if not variadicTable.table[key] then
                                                table.insert (variadicTable.keys, key)
                                            end
                                            variadicTable.table[key] = value
                                        elseif tag == "metakey" then
                                            local _ret64, _ret65
                                            do
                                                local comopps = "add mul div sub mod pow"
                                                local binopps = "eq lt"
                                                local unopps = "minus"
                                                local expectedParamCount
                                                for opp in comopps:gmatch ("%S+")
                                                 do
                                                    if key == opp then
                                                        expectedParamCount = 2
                                                    elseif key:match ("^" .. opp .. "[rl]")
                                                         then
                                                        expectedParamCount = 1
                                                    end
                                                end
                                                for opp in binopps:gmatch ("%S+")
                                                 do
                                                    if key == opp then
                                                        expectedParamCount = 2
                                                    end
                                                end
                                                for opp in unopps:gmatch ("%S+")
                                                 do
                                                    if key == opp then
                                                        expectedParamCount = 0
                                                    end
                                                end
                                                if expectedParamCount then
                                                    if value.positionalParamCount ~= expectedParamCount then
                                                        _ret64, _ret65 = false, "Wrong number of positionnal parameters for meta-macro '" .. key .. "', " .. value.positionalParamCount .. " instead of " .. expectedParamCount .. "."
                                                        goto _inline_end156
                                                    end
                                                    if value.namedParamCount > 1 then
                                                        _ret64, _ret65 = false, "Meta-macro '" .. key .. "' dont support named parameters."
                                                        goto _inline_end156
                                                    end
                                                elseif key ~= "call" and key ~= "tostring" and key ~= "getindex" and key ~= "setindex" and key ~= "next" and key ~= "iter" then
                                                    _ret64, _ret65 = false, "'" .. key .. "' isn't a valid meta-macro name."
                                                    goto _inline_end156
                                                end
                                                _ret64, _ret65 = true
                                                goto _inline_end156
                                            end
                                            ::_inline_end156::
                                            local success, err = _ret64, _ret65
                                            if success then
                                                variadicTable.meta.table[key] = value
                                            else
                                                vmerr = err
                                            end
                                        end
                                    else
                                        unknowNamed = key
                                        break
                                    end
                                end
                                tagStack[bufferOffset] = nil
                            end
                            bufferOffset = bufferOffset + 1
                        end
                        _ret55, _ret56, _ret57, _ret58 = variadicTable, tomanyPositionnalCounter, capturedCount, unknowNamed
                        goto _inline_end145
                    end
                    ::_inline_end145::
                    local resultTable = _ret55, _ret56, _ret57, _ret58
                    do
                        local _ret67
                        mainStackFramesPointer = mainStackFramesPointer - 1
                        _ret67 = mainStackFrames[mainStackFramesPointer + 1]
                        mainStackPointer = _ret67 - 1
                    end
                    mainStackPointer = mainStackPointer + 1
                    mainStack[mainStackPointer] = resultTable
                end
                goto DISPATCH
            ::CONCAT_TEXT::
                do
                    local _ret68
                    _ret68 = mainStackFrames[mainStackFramesPointer]
                    local start = _ret68
                    local _ret69
                    _ret69 = mainStackPointer
                    local stop = _ret69
                    for i = start, stop do
                        local _ret70
                        _ret70 = mainStack[i or mainStackPointer]
                        if _ret70 == empty then
                            mainStack[i] = ""
                        end
                    end
                    local acc_text = table.concat (mainStack, "", start, stop)
                    mainStackPointer = start
                    mainStack[start] = acc_text
                    do
                        local _ret71
                        mainStackFramesPointer = mainStackFramesPointer - 1
                        _ret71 = mainStackFrames[mainStackFramesPointer + 1]
                    end
                end
                goto DISPATCH
            ::CONCAT_CALL::
                do
                    local _ret72
                    mainStackPointer = mainStackPointer - 1
                    _ret72 = mainStack[mainStackPointer + 1]
                    local tocall = _ret72
                    local _ret73
                    _ret73 = type (tocall) == "table" and (tocall == empty or tocall.type) or (type (tocall) == "cdata" and tocall.type) or type (tocall)
                    local t = _ret73
                    local self
                    if t == "table" then
                        if tocall.meta and tocall.meta.table.call then
                            self = tocall
                            tocall = tocall.meta.table.call
                            t = tocall.type
                        end
                    end
                    if t == "macro" then
                        if self then
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = self
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = "self"
                            do
                                local _ret74
                                _ret74 = mainStackPointer
                                local pos = _ret74
                                tagStack[pos] = "key"
                            end
                        end
                        do
                            local allocationCount = tocall.positionalParamCount + tocall.namedParamCount
                            if tocall.variadicOffset then
                                allocationCount = allocationCount + 1
                            end
                            do
                                local _ret75
                                _ret75 = variableStackPointer
                                variableStackFramesPointer = variableStackFramesPointer + 1
                                variableStackFrames[variableStackFramesPointer] = _ret75 + 1
                                for i = 1, allocationCount do
                                    variableStackPointer = variableStackPointer + 1
                                    variableStack[variableStackPointer] = empty
                                end
                            end
                            local _ret76, _ret77, _ret78, _ret79
                            do
                                local argsOffset = 1
                                local _ret80
                                _ret80 = mainStackFrames[mainStackFramesPointer]
                                local frameOffset = _ret80
                                local bufferOffset = frameOffset
                                local _ret81
                                _ret81 = mainStackPointer
                                local mainStackTop = _ret81
                                local variadicTable
                                if tocall.variadicOffset then
                                    local max = mainStackTop - bufferOffset + 1
                                    variadicTable = plume.obj.table (max, max / 2)
                                end
                                local tomanyPositionnalCounter = 0
                                local capturedCount = 0
                                local unknowNamed
                                while bufferOffset <= mainStackTop do
                                    local tag = tagStack[bufferOffset + 1]
                                    local _ret82
                                    _ret82 = mainStack[bufferOffset or mainStackPointer]
                                    local value = _ret82
                                    if tag == nil then
                                        if argsOffset <= tocall.positionalParamCount then
                                            do
                                                local _ret83
                                                _ret83 = variableStackFrames[variableStackFramesPointer or 0]
                                                variableStack[_ret83 + (argsOffset - 1 or 0)] = value
                                            end
                                            capturedCount = capturedCount + 1
                                        elseif variadicTable then
                                            table.insert (variadicTable.table, value)
                                        else
                                            tomanyPositionnalCounter = tomanyPositionnalCounter + 1
                                        end
                                        argsOffset = argsOffset + 1
                                    else
                                        bufferOffset = bufferOffset + 1
                                        local _ret87
                                        _ret87 = mainStack[bufferOffset or mainStackPointer]
                                        goto _inline_end198
                                        ::_inline_end198::
                                        local key = _ret87
                                        local argOffset = tocall.namedParamOffset and (tocall.namedParamOffset)[key]
                                        if argOffset then
                                            if tag == "key" then
                                                do
                                                    local _ret84
                                                    _ret84 = variableStackFrames[variableStackFramesPointer or 0]
                                                    variableStack[_ret84 + (argOffset - 1 or 0)] = value
                                                end
                                            else
                                                vmerr = plume.error.cannotUseMetaKey
                                            end
                                        else
                                            if variadicTable then
                                                if tag == "key" then
                                                    if not variadicTable.table[key] then
                                                        table.insert (variadicTable.keys, key)
                                                    end
                                                    variadicTable.table[key] = value
                                                elseif tag == "metakey" then
                                                    local _ret85, _ret86
                                                    do
                                                        local comopps = "add mul div sub mod pow"
                                                        local binopps = "eq lt"
                                                        local unopps = "minus"
                                                        local expectedParamCount
                                                        for opp in comopps:gmatch ("%S+")
                                                         do
                                                            if key == opp then
                                                                expectedParamCount = 2
                                                            elseif key:match ("^" .. opp .. "[rl]")
                                                                 then
                                                                expectedParamCount = 1
                                                            end
                                                        end
                                                        for opp in binopps:gmatch ("%S+")
                                                         do
                                                            if key == opp then
                                                                expectedParamCount = 2
                                                            end
                                                        end
                                                        for opp in unopps:gmatch ("%S+")
                                                         do
                                                            if key == opp then
                                                                expectedParamCount = 0
                                                            end
                                                        end
                                                        if expectedParamCount then
                                                            if value.positionalParamCount ~= expectedParamCount then
                                                                _ret85, _ret86 = false, "Wrong number of positionnal parameters for meta-macro '" .. key .. "', " .. value.positionalParamCount .. " instead of " .. expectedParamCount .. "."
                                                                goto _inline_end196
                                                            end
                                                            if value.namedParamCount > 1 then
                                                                _ret85, _ret86 = false, "Meta-macro '" .. key .. "' dont support named parameters."
                                                                goto _inline_end196
                                                            end
                                                        elseif key ~= "call" and key ~= "tostring" and key ~= "getindex" and key ~= "setindex" and key ~= "next" and key ~= "iter" then
                                                            _ret85, _ret86 = false, "'" .. key .. "' isn't a valid meta-macro name."
                                                            goto _inline_end196
                                                        end
                                                        _ret85, _ret86 = true
                                                        goto _inline_end196
                                                    end
                                                    ::_inline_end196::
                                                    local success, err = _ret85, _ret86
                                                    if success then
                                                        variadicTable.meta.table[key] = value
                                                    else
                                                        vmerr = err
                                                    end
                                                end
                                            else
                                                unknowNamed = key
                                                break
                                            end
                                        end
                                        tagStack[bufferOffset] = nil
                                    end
                                    bufferOffset = bufferOffset + 1
                                end
                                _ret76, _ret77, _ret78, _ret79 = variadicTable, tomanyPositionnalCounter, capturedCount, unknowNamed
                                goto _inline_end185
                            end
                            ::_inline_end185::
                            local variadicTable, tomanyPositionnalCounter, capturedCount, unknowNamed = _ret76, _ret77, _ret78, _ret79
                            if tomanyPositionnalCounter > 0 then
                                vmerr = plume.error.wrongArgsCount (tocall.name, tocall.positionalParamCount + tomanyPositionnalCounter, tocall.positionalParamCount)
                            elseif capturedCount < tocall.positionalParamCount then
                                vmerr = plume.error.wrongArgsCount (tocall.name, capturedCount, tocall.positionalParamCount)
                            elseif unknowNamed then
                                vmerr = plume.error.unknowParameter (unknowNamed, tocall.name)
                            else
                                if tocall.variadicOffset then
                                    do
                                        local _ret89
                                        _ret89 = variableStackFrames[variableStackFramesPointer or 0]
                                        variableStack[_ret89 + (tocall.variadicOffset - 1 or 0)] = variadicTable
                                    end
                                end
                                table.insert (runtime.callstack, {macro = tocall, ip = ip})
                                if #runtime.callstack <= 1000 then
                                    do
                                        local _ret88
                                        mainStackFramesPointer = mainStackFramesPointer - 1
                                        _ret88 = mainStackFrames[mainStackFramesPointer + 1]
                                        mainStackPointer = _ret88 - 1
                                    end
                                    macroStackPointer = macroStackPointer + 1
                                    macroStack[macroStackPointer] = ip + 1
                                    jump = tocall.offset
                                else
                                    vmerr = plume.error.stackOverflow ()
                                end
                            end
                        end
                    elseif t == "luaFunction" then
                        do
                            local _ret120, _ret121, _ret122, _ret123
                            do
                                local argsOffset = 1
                                local _ret124
                                _ret124 = mainStackFrames[mainStackFramesPointer]
                                local frameOffset = _ret124
                                local bufferOffset = frameOffset
                                local _ret125
                                _ret125 = mainStackPointer
                                local mainStackTop = _ret125
                                local variadicTable
                                if true then
                                    local max = mainStackTop - bufferOffset + 1
                                    variadicTable = plume.obj.table (max, max / 2)
                                end
                                local tomanyPositionnalCounter = 0
                                local capturedCount = 0
                                local unknowNamed
                                while bufferOffset <= mainStackTop do
                                    local tag = tagStack[bufferOffset + 1]
                                    local _ret126
                                    _ret126 = mainStack[bufferOffset or mainStackPointer]
                                    local value = _ret126
                                    if tag == nil then
                                        if argsOffset <= 0 then
                                            do
                                                local _ret127
                                                _ret127 = variableStackFrames[variableStackFramesPointer or 0]
                                                variableStack[_ret127 + (argsOffset - 1 or 0)] = value
                                            end
                                            capturedCount = capturedCount + 1
                                        elseif variadicTable then
                                            table.insert (variadicTable.table, value)
                                        else
                                            tomanyPositionnalCounter = tomanyPositionnalCounter + 1
                                        end
                                        argsOffset = argsOffset + 1
                                    else
                                        bufferOffset = bufferOffset + 1
                                        local _ret131
                                        _ret131 = mainStack[bufferOffset or mainStackPointer]
                                        goto _inline_end280
                                        ::_inline_end280::
                                        local key = _ret131
                                        local argOffset = nil and (nil)[key]
                                        if argOffset then
                                            if tag == "key" then
                                                do
                                                    local _ret128
                                                    _ret128 = variableStackFrames[variableStackFramesPointer or 0]
                                                    variableStack[_ret128 + (argOffset - 1 or 0)] = value
                                                end
                                            else
                                                vmerr = plume.error.cannotUseMetaKey
                                            end
                                        else
                                            if variadicTable then
                                                if tag == "key" then
                                                    if not variadicTable.table[key] then
                                                        table.insert (variadicTable.keys, key)
                                                    end
                                                    variadicTable.table[key] = value
                                                elseif tag == "metakey" then
                                                    local _ret129, _ret130
                                                    do
                                                        local comopps = "add mul div sub mod pow"
                                                        local binopps = "eq lt"
                                                        local unopps = "minus"
                                                        local expectedParamCount
                                                        for opp in comopps:gmatch ("%S+")
                                                         do
                                                            if key == opp then
                                                                expectedParamCount = 2
                                                            elseif key:match ("^" .. opp .. "[rl]")
                                                                 then
                                                                expectedParamCount = 1
                                                            end
                                                        end
                                                        for opp in binopps:gmatch ("%S+")
                                                         do
                                                            if key == opp then
                                                                expectedParamCount = 2
                                                            end
                                                        end
                                                        for opp in unopps:gmatch ("%S+")
                                                         do
                                                            if key == opp then
                                                                expectedParamCount = 0
                                                            end
                                                        end
                                                        if expectedParamCount then
                                                            if value.positionalParamCount ~= expectedParamCount then
                                                                _ret129, _ret130 = false, "Wrong number of positionnal parameters for meta-macro '" .. key .. "', " .. value.positionalParamCount .. " instead of " .. expectedParamCount .. "."
                                                                goto _inline_end278
                                                            end
                                                            if value.namedParamCount > 1 then
                                                                _ret129, _ret130 = false, "Meta-macro '" .. key .. "' dont support named parameters."
                                                                goto _inline_end278
                                                            end
                                                        elseif key ~= "call" and key ~= "tostring" and key ~= "getindex" and key ~= "setindex" and key ~= "next" and key ~= "iter" then
                                                            _ret129, _ret130 = false, "'" .. key .. "' isn't a valid meta-macro name."
                                                            goto _inline_end278
                                                        end
                                                        _ret129, _ret130 = true
                                                        goto _inline_end278
                                                    end
                                                    ::_inline_end278::
                                                    local success, err = _ret129, _ret130
                                                    if success then
                                                        variadicTable.meta.table[key] = value
                                                    else
                                                        vmerr = err
                                                    end
                                                end
                                            else
                                                unknowNamed = key
                                                break
                                            end
                                        end
                                        tagStack[bufferOffset] = nil
                                    end
                                    bufferOffset = bufferOffset + 1
                                end
                                _ret120, _ret121, _ret122, _ret123 = variadicTable, tomanyPositionnalCounter, capturedCount, unknowNamed
                                goto _inline_end267
                            end
                            ::_inline_end267::
                            local resultTable = _ret120, _ret121, _ret122, _ret123
                            do
                                local _ret132
                                mainStackFramesPointer = mainStackFramesPointer - 1
                                _ret132 = mainStackFrames[mainStackFramesPointer + 1]
                                mainStackPointer = _ret132 - 1
                            end
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = resultTable
                        end
                        table.insert (runtime.callstack, {runtime = runtime, macro = tocall, ip = ip})
                        local _ret133
                        mainStackPointer = mainStackPointer - 1
                        _ret133 = mainStack[mainStackPointer + 1]
                        local success, result = pcall (tocall.callable, _ret133, runtime)
                        if success then
                            table.remove (runtime.callstack)
                            if result == nil then
                                result = empty
                            end
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = result
                        else
                            vmerr = result
                        end
                    elseif t == "luaStdFunction" then
                        do
                            local _ret106, _ret107, _ret108, _ret109
                            do
                                local argsOffset = 1
                                local _ret110
                                _ret110 = mainStackFrames[mainStackFramesPointer]
                                local frameOffset = _ret110
                                local bufferOffset = frameOffset
                                local _ret111
                                _ret111 = mainStackPointer
                                local mainStackTop = _ret111
                                local variadicTable
                                if true then
                                    local max = mainStackTop - bufferOffset + 1
                                    variadicTable = plume.obj.table (max, max / 2)
                                end
                                local tomanyPositionnalCounter = 0
                                local capturedCount = 0
                                local unknowNamed
                                while bufferOffset <= mainStackTop do
                                    local tag = tagStack[bufferOffset + 1]
                                    local _ret112
                                    _ret112 = mainStack[bufferOffset or mainStackPointer]
                                    local value = _ret112
                                    if tag == nil then
                                        if argsOffset <= 0 then
                                            do
                                                local _ret113
                                                _ret113 = variableStackFrames[variableStackFramesPointer or 0]
                                                variableStack[_ret113 + (argsOffset - 1 or 0)] = value
                                            end
                                            capturedCount = capturedCount + 1
                                        elseif variadicTable then
                                            table.insert (variadicTable.table, value)
                                        else
                                            tomanyPositionnalCounter = tomanyPositionnalCounter + 1
                                        end
                                        argsOffset = argsOffset + 1
                                    else
                                        bufferOffset = bufferOffset + 1
                                        local _ret117
                                        _ret117 = mainStack[bufferOffset or mainStackPointer]
                                        goto _inline_end255
                                        ::_inline_end255::
                                        local key = _ret117
                                        local argOffset = nil and (nil)[key]
                                        if argOffset then
                                            if tag == "key" then
                                                do
                                                    local _ret114
                                                    _ret114 = variableStackFrames[variableStackFramesPointer or 0]
                                                    variableStack[_ret114 + (argOffset - 1 or 0)] = value
                                                end
                                            else
                                                vmerr = plume.error.cannotUseMetaKey
                                            end
                                        else
                                            if variadicTable then
                                                if tag == "key" then
                                                    if not variadicTable.table[key] then
                                                        table.insert (variadicTable.keys, key)
                                                    end
                                                    variadicTable.table[key] = value
                                                elseif tag == "metakey" then
                                                    local _ret115, _ret116
                                                    do
                                                        local comopps = "add mul div sub mod pow"
                                                        local binopps = "eq lt"
                                                        local unopps = "minus"
                                                        local expectedParamCount
                                                        for opp in comopps:gmatch ("%S+")
                                                         do
                                                            if key == opp then
                                                                expectedParamCount = 2
                                                            elseif key:match ("^" .. opp .. "[rl]")
                                                                 then
                                                                expectedParamCount = 1
                                                            end
                                                        end
                                                        for opp in binopps:gmatch ("%S+")
                                                         do
                                                            if key == opp then
                                                                expectedParamCount = 2
                                                            end
                                                        end
                                                        for opp in unopps:gmatch ("%S+")
                                                         do
                                                            if key == opp then
                                                                expectedParamCount = 0
                                                            end
                                                        end
                                                        if expectedParamCount then
                                                            if value.positionalParamCount ~= expectedParamCount then
                                                                _ret115, _ret116 = false, "Wrong number of positionnal parameters for meta-macro '" .. key .. "', " .. value.positionalParamCount .. " instead of " .. expectedParamCount .. "."
                                                                goto _inline_end253
                                                            end
                                                            if value.namedParamCount > 1 then
                                                                _ret115, _ret116 = false, "Meta-macro '" .. key .. "' dont support named parameters."
                                                                goto _inline_end253
                                                            end
                                                        elseif key ~= "call" and key ~= "tostring" and key ~= "getindex" and key ~= "setindex" and key ~= "next" and key ~= "iter" then
                                                            _ret115, _ret116 = false, "'" .. key .. "' isn't a valid meta-macro name."
                                                            goto _inline_end253
                                                        end
                                                        _ret115, _ret116 = true
                                                        goto _inline_end253
                                                    end
                                                    ::_inline_end253::
                                                    local success, err = _ret115, _ret116
                                                    if success then
                                                        variadicTable.meta.table[key] = value
                                                    else
                                                        vmerr = err
                                                    end
                                                end
                                            else
                                                unknowNamed = key
                                                break
                                            end
                                        end
                                        tagStack[bufferOffset] = nil
                                    end
                                    bufferOffset = bufferOffset + 1
                                end
                                _ret106, _ret107, _ret108, _ret109 = variadicTable, tomanyPositionnalCounter, capturedCount, unknowNamed
                                goto _inline_end242
                            end
                            ::_inline_end242::
                            local resultTable = _ret106, _ret107, _ret108, _ret109
                            do
                                local _ret118
                                mainStackFramesPointer = mainStackFramesPointer - 1
                                _ret118 = mainStackFrames[mainStackFramesPointer + 1]
                                mainStackPointer = _ret118 - 1
                            end
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = resultTable
                        end
                        do
                            injectionStackPointer = injectionStackPointer + 1
                            injectionStack[injectionStackPointer] = tocall.opcode
                            injectionStackPointer = injectionStackPointer + 1
                            injectionStack[injectionStackPointer] = 0
                            injectionStackPointer = injectionStackPointer + 1
                            injectionStack[injectionStackPointer] = 0
                            local _ret119
                            _ret119 = macroStackPointer
                            injectionStackPointer = injectionStackPointer + 1
                            injectionStack[injectionStackPointer] = _ret119
                        end
                    elseif tocall == plume.std.table then
                        do
                            local _ret93, _ret94, _ret95, _ret96
                            do
                                local argsOffset = 1
                                local _ret97
                                _ret97 = mainStackFrames[mainStackFramesPointer]
                                local frameOffset = _ret97
                                local bufferOffset = frameOffset
                                local _ret98
                                _ret98 = mainStackPointer
                                local mainStackTop = _ret98
                                local variadicTable
                                if true then
                                    local max = mainStackTop - bufferOffset + 1
                                    variadicTable = plume.obj.table (max, max / 2)
                                end
                                local tomanyPositionnalCounter = 0
                                local capturedCount = 0
                                local unknowNamed
                                while bufferOffset <= mainStackTop do
                                    local tag = tagStack[bufferOffset + 1]
                                    local _ret99
                                    _ret99 = mainStack[bufferOffset or mainStackPointer]
                                    local value = _ret99
                                    if tag == nil then
                                        if argsOffset <= 0 then
                                            do
                                                local _ret100
                                                _ret100 = variableStackFrames[variableStackFramesPointer or 0]
                                                variableStack[_ret100 + (argsOffset - 1 or 0)] = value
                                            end
                                            capturedCount = capturedCount + 1
                                        elseif variadicTable then
                                            table.insert (variadicTable.table, value)
                                        else
                                            tomanyPositionnalCounter = tomanyPositionnalCounter + 1
                                        end
                                        argsOffset = argsOffset + 1
                                    else
                                        bufferOffset = bufferOffset + 1
                                        local _ret104
                                        _ret104 = mainStack[bufferOffset or mainStackPointer]
                                        goto _inline_end236
                                        ::_inline_end236::
                                        local key = _ret104
                                        local argOffset = nil and (nil)[key]
                                        if argOffset then
                                            if tag == "key" then
                                                do
                                                    local _ret101
                                                    _ret101 = variableStackFrames[variableStackFramesPointer or 0]
                                                    variableStack[_ret101 + (argOffset - 1 or 0)] = value
                                                end
                                            else
                                                vmerr = plume.error.cannotUseMetaKey
                                            end
                                        else
                                            if variadicTable then
                                                if tag == "key" then
                                                    if not variadicTable.table[key] then
                                                        table.insert (variadicTable.keys, key)
                                                    end
                                                    variadicTable.table[key] = value
                                                elseif tag == "metakey" then
                                                    local _ret102, _ret103
                                                    do
                                                        local comopps = "add mul div sub mod pow"
                                                        local binopps = "eq lt"
                                                        local unopps = "minus"
                                                        local expectedParamCount
                                                        for opp in comopps:gmatch ("%S+")
                                                         do
                                                            if key == opp then
                                                                expectedParamCount = 2
                                                            elseif key:match ("^" .. opp .. "[rl]")
                                                                 then
                                                                expectedParamCount = 1
                                                            end
                                                        end
                                                        for opp in binopps:gmatch ("%S+")
                                                         do
                                                            if key == opp then
                                                                expectedParamCount = 2
                                                            end
                                                        end
                                                        for opp in unopps:gmatch ("%S+")
                                                         do
                                                            if key == opp then
                                                                expectedParamCount = 0
                                                            end
                                                        end
                                                        if expectedParamCount then
                                                            if value.positionalParamCount ~= expectedParamCount then
                                                                _ret102, _ret103 = false, "Wrong number of positionnal parameters for meta-macro '" .. key .. "', " .. value.positionalParamCount .. " instead of " .. expectedParamCount .. "."
                                                                goto _inline_end234
                                                            end
                                                            if value.namedParamCount > 1 then
                                                                _ret102, _ret103 = false, "Meta-macro '" .. key .. "' dont support named parameters."
                                                                goto _inline_end234
                                                            end
                                                        elseif key ~= "call" and key ~= "tostring" and key ~= "getindex" and key ~= "setindex" and key ~= "next" and key ~= "iter" then
                                                            _ret102, _ret103 = false, "'" .. key .. "' isn't a valid meta-macro name."
                                                            goto _inline_end234
                                                        end
                                                        _ret102, _ret103 = true
                                                        goto _inline_end234
                                                    end
                                                    ::_inline_end234::
                                                    local success, err = _ret102, _ret103
                                                    if success then
                                                        variadicTable.meta.table[key] = value
                                                    else
                                                        vmerr = err
                                                    end
                                                end
                                            else
                                                unknowNamed = key
                                                break
                                            end
                                        end
                                        tagStack[bufferOffset] = nil
                                    end
                                    bufferOffset = bufferOffset + 1
                                end
                                _ret93, _ret94, _ret95, _ret96 = variadicTable, tomanyPositionnalCounter, capturedCount, unknowNamed
                                goto _inline_end223
                            end
                            ::_inline_end223::
                            local resultTable = _ret93, _ret94, _ret95, _ret96
                            do
                                local _ret105
                                mainStackFramesPointer = mainStackFramesPointer - 1
                                _ret105 = mainStackFrames[mainStackFramesPointer + 1]
                                mainStackPointer = _ret105 - 1
                            end
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = resultTable
                        end
                    elseif tocall == plume.std.tostring then
                        local _ret90
                        mainStackPointer = mainStackPointer - 1
                        _ret90 = mainStack[mainStackPointer + 1]
                        local value = _ret90
                        do
                            local _ret91
                            mainStackFramesPointer = mainStackFramesPointer - 1
                            _ret91 = mainStackFrames[mainStackFramesPointer + 1]
                            mainStackPointer = _ret91 - 1
                        end
                        mainStackPointer = mainStackPointer + 1
                        mainStack[mainStackPointer] = value
                        do
                            injectionStackPointer = injectionStackPointer + 1
                            injectionStack[injectionStackPointer] = plume.ops.CHECK_IS_TEXT
                            injectionStackPointer = injectionStackPointer + 1
                            injectionStack[injectionStackPointer] = 0
                            injectionStackPointer = injectionStackPointer + 1
                            injectionStack[injectionStackPointer] = 0
                            local _ret92
                            _ret92 = macroStackPointer
                            injectionStackPointer = injectionStackPointer + 1
                            injectionStack[injectionStackPointer] = _ret92
                        end
                    else
                        vmerr = plume.error.cannotCallValue (t)
                    end
                end
                goto DISPATCH
            ::CHECK_IS_TEXT::
                do
                    local _ret134
                    _ret134 = mainStack[mainStackPointer]
                    local value = _ret134
                    local _ret135
                    _ret135 = type (value) == "table" and (value == empty or value.type) or (type (value) == "cdata" and value.type) or type (value)
                    local t = _ret135
                    if t ~= "number" and t ~= "string" and value ~= empty then
                        local meta = t == "table" and value.meta.table.tostring
                        if meta then
                            local _ret136
                            mainStackPointer = mainStackPointer - 1
                            _ret136 = mainStack[mainStackPointer + 1]
                            mainStackFramesPointer = mainStackFramesPointer + 1
                            mainStackFrames[mainStackFramesPointer] = mainStackPointer + 1
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = t
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = "self"
                            do
                                local _ret137
                                _ret137 = mainStackPointer
                                local pos = _ret137
                                tagStack[pos] = "key"
                            end
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = meta
                            do
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = plume.ops.CONCAT_CALL
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = 0
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = 0
                                local _ret138
                                _ret138 = macroStackPointer
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = _ret138
                            end
                        else
                            vmerr = plume.error.cannotConcatValue (t)
                        end
                    end
                end
                goto DISPATCH
            ::JUMP_IF::
                do
                    local _ret139
                    mainStackPointer = mainStackPointer - 1
                    _ret139 = mainStack[mainStackPointer + 1]
                    local test = _ret139
                    local _ret140
                    if test == empty then
                        _ret140 = false
                        goto _inline_end310
                    end
                    _ret140 = test
                    ::_inline_end310::
                    if _ret140 then
                        jump = arg2
                    end
                end
                goto DISPATCH
            ::JUMP_IF_NOT::
                do
                    local _ret141
                    mainStackPointer = mainStackPointer - 1
                    _ret141 = mainStack[mainStackPointer + 1]
                    local test = _ret141
                    local _ret142
                    if test == empty then
                        _ret142 = false
                        goto _inline_end313
                    end
                    _ret142 = test
                    ::_inline_end313::
                    if not _ret142 then
                        jump = arg2
                    end
                end
                goto DISPATCH
            ::JUMP_IF_NOT_EMPTY::
                do
                    local _ret143
                    mainStackPointer = mainStackPointer - 1
                    _ret143 = mainStack[mainStackPointer + 1]
                    local test = _ret143
                    if test ~= empty then
                        jump = arg2
                    end
                end
                goto DISPATCH
            ::JUMP_FOR::
                do
                    local _ret144
                    _ret144 = mainStack[mainStackPointer]
                    local test = _ret144
                    local _ret146
                    if test == empty then
                        _ret146 = false
                        goto _inline_end320
                    end
                    _ret146 = test
                    ::_inline_end320::
                    if not _ret146 then
                        local _ret145
                        mainStackPointer = mainStackPointer - 1
                        _ret145 = mainStack[mainStackPointer + 1]
                        jump = arg2
                    end
                end
                goto DISPATCH
            ::JUMP::
                jump = arg2
                goto DISPATCH
            ::JUMP_IF_PEEK::
                do
                    local _ret147
                    _ret147 = mainStack[mainStackPointer]
                    local test = _ret147
                    local _ret148
                    if test == empty then
                        _ret148 = false
                        goto _inline_end324
                    end
                    _ret148 = test
                    ::_inline_end324::
                    if _ret148 then
                        jump = arg2
                    end
                end
                goto DISPATCH
            ::JUMP_IF_NOT_PEEK::
                do
                    local _ret149
                    _ret149 = mainStack[mainStackPointer]
                    local test = _ret149
                    local _ret150
                    if test == empty then
                        _ret150 = false
                        goto _inline_end327
                    end
                    _ret150 = test
                    ::_inline_end327::
                    if not _ret150 then
                        jump = arg2
                    end
                end
                goto DISPATCH
            ::GET_ITER::
                do
                    local _ret151
                    mainStackPointer = mainStackPointer - 1
                    _ret151 = mainStack[mainStackPointer + 1]
                    local obj = _ret151
                    local _ret152
                    _ret152 = type (obj) == "table" and (obj == empty or obj.type) or (type (obj) == "cdata" and obj.type) or type (obj)
                    local tobj = _ret152
                    local iter, value, flag, macrocall
                    if tobj == "table" then
                        if obj.meta.table.next then
                            iter = obj
                        else
                            iter = obj.meta.table.iter
                        end
                        if iter then
                            if iter.type == "luaFunction" then
                                value = iter.callable ({obj})
                            elseif iter.type == "table" then
                                value = iter
                            elseif iter.type == "macro" then
                                macrocall = true
                            end
                        else
                            value = obj.table
                            flag = ITER_TABLE
                        end
                    elseif tobj == "stdIterator" then
                        value = obj
                        flag = obj.flag
                    else
                        vmerr = plume.error.cannotIterateValue (tobj)
                    end
                    mainStackPointer = mainStackPointer + 1
                    mainStack[mainStackPointer] = flag
                    mainStackPointer = mainStackPointer + 1
                    mainStack[mainStackPointer] = 0
                    if macrocall then
                        mainStackFramesPointer = mainStackFramesPointer + 1
                        mainStackFrames[mainStackFramesPointer] = mainStackPointer + 1
                        mainStackPointer = mainStackPointer + 1
                        mainStack[mainStackPointer] = obj
                        mainStackPointer = mainStackPointer + 1
                        mainStack[mainStackPointer] = "self"
                        do
                            local _ret153
                            _ret153 = mainStackPointer
                            local pos = _ret153
                            tagStack[pos] = "key"
                        end
                        mainStackPointer = mainStackPointer + 1
                        mainStack[mainStackPointer] = iter
                        do
                            injectionStackPointer = injectionStackPointer + 1
                            injectionStack[injectionStackPointer] = plume.ops.CONCAT_CALL
                            injectionStackPointer = injectionStackPointer + 1
                            injectionStack[injectionStackPointer] = 0
                            injectionStackPointer = injectionStackPointer + 1
                            injectionStack[injectionStackPointer] = 0
                            local _ret154
                            _ret154 = macroStackPointer
                            injectionStackPointer = injectionStackPointer + 1
                            injectionStack[injectionStackPointer] = _ret154
                        end
                    else
                        mainStackPointer = mainStackPointer + 1
                        mainStack[mainStackPointer] = value
                    end
                end
                goto DISPATCH
            ::FOR_ITER::
                do
                    local _ret155
                    do
                        local _ret156
                        _ret156 = variableStackFrames[variableStackFramesPointer]
                        local _ret157
                        _ret157 = variableStack[_ret156 or variableStackPointer]
                        _ret155 = _ret157
                        goto _inline_end350
                    end
                    ::_inline_end350::
                    local obj = _ret155
                    local _ret158
                    do
                        local _ret159
                        _ret159 = variableStackFrames[variableStackFramesPointer]
                        local _ret160
                        _ret160 = variableStack[_ret159 + 1 or variableStackPointer]
                        _ret158 = _ret160
                        goto _inline_end353
                    end
                    ::_inline_end353::
                    local state = _ret158
                    local _ret161
                    do
                        local _ret162
                        _ret162 = variableStackFrames[variableStackFramesPointer]
                        local _ret163
                        _ret163 = variableStack[_ret162 + 2 or variableStackPointer]
                        _ret161 = _ret163
                        goto _inline_end356
                    end
                    ::_inline_end356::
                    local flag = _ret161
                    local result, call
                    if flag == ITER_TABLE then
                        state = state + 1
                        if state > #obj then
                            result = empty
                        else
                            result = obj[state]
                        end
                    elseif flag == ITER_SEQ then
                        state = state + obj.step
                        if state > obj.stop then
                            result = empty
                        else
                            result = state
                        end
                    elseif flag == ITER_ENUMS then
                        state = state + 1
                        if state > #obj.ref.table then
                            result = empty
                        else
                            if obj.legacy then
                                result = plume.obj.table (0, 2)
                                result.table.index = state
                                result.table.value = obj.ref.table[state]
                                result.keys = {"index", "value"}
                            else
                                result = plume.obj.table (2, 0)
                                result.table[1] = state
                                result.table[2] = obj.ref.table[state]
                            end
                        end
                    elseif flag == ITER_ITEMS then
                        state = state + 1
                        if state > #obj.ref.keys then
                            result = empty
                        else
                            if obj.legacy then
                                result = plume.obj.table (0, 2)
                                result.table.key = obj.ref.keys[state]
                                result.table.value = obj.ref.table[result.table.key]
                                result.keys = {"key", "value"}
                            else
                                result = plume.obj.table (2, 0)
                                result.table[1] = obj.ref.keys[state]
                                result.table[2] = obj.ref.table[result.table[1]]
                            end
                        end
                    else
                        local iter = obj.meta.table.next
                        if iter.type == "luaFunction" then
                            result = iter.callable ()
                        else
                            call = true
                            mainStackFramesPointer = mainStackFramesPointer + 1
                            mainStackFrames[mainStackFramesPointer] = mainStackPointer + 1
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = obj
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = "self"
                            do
                                local _ret166
                                _ret166 = mainStackPointer
                                local pos = _ret166
                                tagStack[pos] = "key"
                            end
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = iter
                            do
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = plume.ops.JUMP_FOR
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = 0
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = arg2
                                local _ret165
                                _ret165 = macroStackPointer
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = _ret165
                            end
                            do
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = plume.ops.CONCAT_CALL
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = 0
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = 0
                                local _ret164
                                _ret164 = macroStackPointer
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = _ret164
                            end
                        end
                    end
                    if not call then
                        do
                            local _ret167
                            _ret167 = variableStackFrames[variableStackFramesPointer or 0]
                            variableStack[_ret167 + 1] = state
                        end
                        if result == empty then
                            jump = arg2
                        else
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = result
                        end
                    end
                end
                goto DISPATCH
            ::OP_ADD::
                do
                    local _ret168
                    mainStackPointer = mainStackPointer - 1
                    _ret168 = mainStack[mainStackPointer + 1]
                    local right = _ret168
                    local _ret169
                    mainStackPointer = mainStackPointer - 1
                    _ret169 = mainStack[mainStackPointer + 1]
                    local left = _ret169
                    local rightNumber = tonumber (right)
                    local leftNumber = tonumber (left)
                    if rightNumber and leftNumber then
                        local _ret170
                        _ret170 = leftNumber + rightNumber
                        result = _ret170
                        mainStackPointer = mainStackPointer + 1
                        mainStack[mainStackPointer] = result
                    else
                        local rerr, lerr
                        local _ret181, _ret182
                        do
                            local _ret183
                            _ret183 = type (right) == "table" and (right == empty or right.type) or (type (right) == "cdata" and right.type) or type (right)
                            local tx = _ret183
                            if tx == "string" then
                                right = tonumber (right)
                                if not right then
                                    _ret181, _ret182 = right, "Cannot convert the string value to a number."
                                    goto _inline_end417
                                end
                            elseif tx ~= "number" then
                                if tx == "table" and right.meta.table.tonumber then
                                    local meta = right.meta.table.tonumber
                                    local params = {}
                                    local _ret184
                                    table.insert (plume.runtime.callstack, {chunk = plume.runtime, macro = meta, ip = ip})
                                    if #plume.runtime.callstack <= 500 then
                                        local success, callResult, cip, source = plume.run (meta, params)
                                        if success then
                                            table.remove (plume.runtime.callstack)
                                            _ret184 = callResult
                                            goto _inline_end419
                                        else
                                            vmserr = {callResult, cip, (source or meta)}
                                        end
                                    else
                                        vmerr = plume.error.stackOverflow ()
                                    end
                                    ::_inline_end419::
                                    _ret181, _ret182 = _ret184
                                    goto _inline_end417
                                else
                                    _ret181, _ret182 = right, "Cannot do comparison or arithmetic with " .. tostring (tx) .. " value."
                                    goto _inline_end417
                                end
                            end
                            _ret181, _ret182 = right
                            goto _inline_end417
                        end
                        ::_inline_end417::
                        right, rerr = _ret181, _ret182
                        local _ret177, _ret178
                        do
                            local _ret179
                            _ret179 = type (left) == "table" and (left == empty or left.type) or (type (left) == "cdata" and left.type) or type (left)
                            local tx = _ret179
                            if tx == "string" then
                                left = tonumber (left)
                                if not left then
                                    _ret177, _ret178 = left, "Cannot convert the string value to a number."
                                    goto _inline_end412
                                end
                            elseif tx ~= "number" then
                                if tx == "table" and left.meta.table.tonumber then
                                    local meta = left.meta.table.tonumber
                                    local params = {}
                                    local _ret180
                                    table.insert (plume.runtime.callstack, {chunk = plume.runtime, macro = meta, ip = ip})
                                    if #plume.runtime.callstack <= 500 then
                                        local success, callResult, cip, source = plume.run (meta, params)
                                        if success then
                                            table.remove (plume.runtime.callstack)
                                            _ret180 = callResult
                                            goto _inline_end414
                                        else
                                            vmserr = {callResult, cip, (source or meta)}
                                        end
                                    else
                                        vmerr = plume.error.stackOverflow ()
                                    end
                                    ::_inline_end414::
                                    _ret177, _ret178 = _ret180
                                    goto _inline_end412
                                else
                                    _ret177, _ret178 = left, "Cannot do comparison or arithmetic with " .. tostring (tx) .. " value."
                                    goto _inline_end412
                                end
                            end
                            _ret177, _ret178 = left
                            goto _inline_end412
                        end
                        ::_inline_end412::
                        left, lerr = _ret177, _ret178
                        if lerr or rerr then
                            local _ret171
                            do
                                local meta, param1, param2, paramself
                                local _ret172
                                _ret172 = type (left) == "table" and (left == empty or left.type) or (type (left) == "cdata" and left.type) or type (left)
                                local tleft = _ret172
                                local _ret173
                                _ret173 = type (right) == "table" and (right == empty or right.type) or (type (right) == "cdata" and right.type) or type (right)
                                local tright = _ret173
                                if tleft == "table" and left.meta and left.meta.table.addr then
                                    meta = left.meta.table.addr
                                    param1 = right
                                    paramself = left
                                elseif tright == "table" and right.meta and right.meta.table.addl then
                                    meta = right.meta.table.addl
                                    param1 = left
                                    paramself = right
                                elseif tleft == "table" and left.meta and left.meta.table.add then
                                    meta = left.meta.table.add
                                    param1 = left
                                    param2 = right
                                    paramself = left
                                elseif tright == "table" and right.meta and right.meta.table.add then
                                    meta = right.meta.table.add
                                    param1 = left
                                    param2 = right
                                    paramself = right
                                end
                                if meta then
                                    mainStackFramesPointer = mainStackFramesPointer + 1
                                    mainStackFrames[mainStackFramesPointer] = mainStackPointer + 1
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = param1
                                    if param2 then
                                        mainStackPointer = mainStackPointer + 1
                                        mainStack[mainStackPointer] = param2
                                    end
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = paramself
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = "self"
                                    do
                                        local _ret174
                                        _ret174 = mainStackPointer
                                        local pos = _ret174
                                        tagStack[pos] = "key"
                                    end
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = meta
                                    do
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = plume.ops.CONCAT_CALL
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = 0
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = 0
                                        local _ret175
                                        _ret175 = macroStackPointer
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = _ret175
                                    end
                                end
                                _ret171 = meta
                                goto _inline_end390
                            end
                            ::_inline_end390::
                            local meta = _ret171
                            if not meta then
                                vmerr = lerr or rerr
                            end
                        else
                            local _ret176
                            _ret176 = left + right
                            goto _inline_end411
                            ::_inline_end411::
                            result = _ret176
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = result
                        end
                    end
                end
                goto DISPATCH
            ::OP_MUL::
                do
                    local _ret185
                    mainStackPointer = mainStackPointer - 1
                    _ret185 = mainStack[mainStackPointer + 1]
                    local right = _ret185
                    local _ret186
                    mainStackPointer = mainStackPointer - 1
                    _ret186 = mainStack[mainStackPointer + 1]
                    local left = _ret186
                    local rightNumber = tonumber (right)
                    local leftNumber = tonumber (left)
                    if rightNumber and leftNumber then
                        local _ret187
                        _ret187 = leftNumber * rightNumber
                        result = _ret187
                        mainStackPointer = mainStackPointer + 1
                        mainStack[mainStackPointer] = result
                    else
                        local rerr, lerr
                        local _ret198, _ret199
                        do
                            local _ret200
                            _ret200 = type (right) == "table" and (right == empty or right.type) or (type (right) == "cdata" and right.type) or type (right)
                            local tx = _ret200
                            if tx == "string" then
                                right = tonumber (right)
                                if not right then
                                    _ret198, _ret199 = right, "Cannot convert the string value to a number."
                                    goto _inline_end455
                                end
                            elseif tx ~= "number" then
                                if tx == "table" and right.meta.table.tonumber then
                                    local meta = right.meta.table.tonumber
                                    local params = {}
                                    local _ret201
                                    table.insert (plume.runtime.callstack, {chunk = plume.runtime, macro = meta, ip = ip})
                                    if #plume.runtime.callstack <= 500 then
                                        local success, callResult, cip, source = plume.run (meta, params)
                                        if success then
                                            table.remove (plume.runtime.callstack)
                                            _ret201 = callResult
                                            goto _inline_end457
                                        else
                                            vmserr = {callResult, cip, (source or meta)}
                                        end
                                    else
                                        vmerr = plume.error.stackOverflow ()
                                    end
                                    ::_inline_end457::
                                    _ret198, _ret199 = _ret201
                                    goto _inline_end455
                                else
                                    _ret198, _ret199 = right, "Cannot do comparison or arithmetic with " .. tostring (tx) .. " value."
                                    goto _inline_end455
                                end
                            end
                            _ret198, _ret199 = right
                            goto _inline_end455
                        end
                        ::_inline_end455::
                        right, rerr = _ret198, _ret199
                        local _ret194, _ret195
                        do
                            local _ret196
                            _ret196 = type (left) == "table" and (left == empty or left.type) or (type (left) == "cdata" and left.type) or type (left)
                            local tx = _ret196
                            if tx == "string" then
                                left = tonumber (left)
                                if not left then
                                    _ret194, _ret195 = left, "Cannot convert the string value to a number."
                                    goto _inline_end450
                                end
                            elseif tx ~= "number" then
                                if tx == "table" and left.meta.table.tonumber then
                                    local meta = left.meta.table.tonumber
                                    local params = {}
                                    local _ret197
                                    table.insert (plume.runtime.callstack, {chunk = plume.runtime, macro = meta, ip = ip})
                                    if #plume.runtime.callstack <= 500 then
                                        local success, callResult, cip, source = plume.run (meta, params)
                                        if success then
                                            table.remove (plume.runtime.callstack)
                                            _ret197 = callResult
                                            goto _inline_end452
                                        else
                                            vmserr = {callResult, cip, (source or meta)}
                                        end
                                    else
                                        vmerr = plume.error.stackOverflow ()
                                    end
                                    ::_inline_end452::
                                    _ret194, _ret195 = _ret197
                                    goto _inline_end450
                                else
                                    _ret194, _ret195 = left, "Cannot do comparison or arithmetic with " .. tostring (tx) .. " value."
                                    goto _inline_end450
                                end
                            end
                            _ret194, _ret195 = left
                            goto _inline_end450
                        end
                        ::_inline_end450::
                        left, lerr = _ret194, _ret195
                        if lerr or rerr then
                            local _ret188
                            do
                                local meta, param1, param2, paramself
                                local _ret189
                                _ret189 = type (left) == "table" and (left == empty or left.type) or (type (left) == "cdata" and left.type) or type (left)
                                local tleft = _ret189
                                local _ret190
                                _ret190 = type (right) == "table" and (right == empty or right.type) or (type (right) == "cdata" and right.type) or type (right)
                                local tright = _ret190
                                if tleft == "table" and left.meta and left.meta.table.mulr then
                                    meta = left.meta.table.mulr
                                    param1 = right
                                    paramself = left
                                elseif tright == "table" and right.meta and right.meta.table.mull then
                                    meta = right.meta.table.mull
                                    param1 = left
                                    paramself = right
                                elseif tleft == "table" and left.meta and left.meta.table.mul then
                                    meta = left.meta.table.mul
                                    param1 = left
                                    param2 = right
                                    paramself = left
                                elseif tright == "table" and right.meta and right.meta.table.mul then
                                    meta = right.meta.table.mul
                                    param1 = left
                                    param2 = right
                                    paramself = right
                                end
                                if meta then
                                    mainStackFramesPointer = mainStackFramesPointer + 1
                                    mainStackFrames[mainStackFramesPointer] = mainStackPointer + 1
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = param1
                                    if param2 then
                                        mainStackPointer = mainStackPointer + 1
                                        mainStack[mainStackPointer] = param2
                                    end
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = paramself
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = "self"
                                    do
                                        local _ret191
                                        _ret191 = mainStackPointer
                                        local pos = _ret191
                                        tagStack[pos] = "key"
                                    end
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = meta
                                    do
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = plume.ops.CONCAT_CALL
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = 0
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = 0
                                        local _ret192
                                        _ret192 = macroStackPointer
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = _ret192
                                    end
                                end
                                _ret188 = meta
                                goto _inline_end428
                            end
                            ::_inline_end428::
                            local meta = _ret188
                            if not meta then
                                vmerr = lerr or rerr
                            end
                        else
                            local _ret193
                            _ret193 = left * right
                            goto _inline_end449
                            ::_inline_end449::
                            result = _ret193
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = result
                        end
                    end
                end
                goto DISPATCH
            ::OP_SUB::
                do
                    local _ret202
                    mainStackPointer = mainStackPointer - 1
                    _ret202 = mainStack[mainStackPointer + 1]
                    local right = _ret202
                    local _ret203
                    mainStackPointer = mainStackPointer - 1
                    _ret203 = mainStack[mainStackPointer + 1]
                    local left = _ret203
                    local rightNumber = tonumber (right)
                    local leftNumber = tonumber (left)
                    if rightNumber and leftNumber then
                        local _ret204
                        _ret204 = leftNumber - rightNumber
                        result = _ret204
                        mainStackPointer = mainStackPointer + 1
                        mainStack[mainStackPointer] = result
                    else
                        local rerr, lerr
                        local _ret215, _ret216
                        do
                            local _ret217
                            _ret217 = type (right) == "table" and (right == empty or right.type) or (type (right) == "cdata" and right.type) or type (right)
                            local tx = _ret217
                            if tx == "string" then
                                right = tonumber (right)
                                if not right then
                                    _ret215, _ret216 = right, "Cannot convert the string value to a number."
                                    goto _inline_end493
                                end
                            elseif tx ~= "number" then
                                if tx == "table" and right.meta.table.tonumber then
                                    local meta = right.meta.table.tonumber
                                    local params = {}
                                    local _ret218
                                    table.insert (plume.runtime.callstack, {chunk = plume.runtime, macro = meta, ip = ip})
                                    if #plume.runtime.callstack <= 500 then
                                        local success, callResult, cip, source = plume.run (meta, params)
                                        if success then
                                            table.remove (plume.runtime.callstack)
                                            _ret218 = callResult
                                            goto _inline_end495
                                        else
                                            vmserr = {callResult, cip, (source or meta)}
                                        end
                                    else
                                        vmerr = plume.error.stackOverflow ()
                                    end
                                    ::_inline_end495::
                                    _ret215, _ret216 = _ret218
                                    goto _inline_end493
                                else
                                    _ret215, _ret216 = right, "Cannot do comparison or arithmetic with " .. tostring (tx) .. " value."
                                    goto _inline_end493
                                end
                            end
                            _ret215, _ret216 = right
                            goto _inline_end493
                        end
                        ::_inline_end493::
                        right, rerr = _ret215, _ret216
                        local _ret211, _ret212
                        do
                            local _ret213
                            _ret213 = type (left) == "table" and (left == empty or left.type) or (type (left) == "cdata" and left.type) or type (left)
                            local tx = _ret213
                            if tx == "string" then
                                left = tonumber (left)
                                if not left then
                                    _ret211, _ret212 = left, "Cannot convert the string value to a number."
                                    goto _inline_end488
                                end
                            elseif tx ~= "number" then
                                if tx == "table" and left.meta.table.tonumber then
                                    local meta = left.meta.table.tonumber
                                    local params = {}
                                    local _ret214
                                    table.insert (plume.runtime.callstack, {chunk = plume.runtime, macro = meta, ip = ip})
                                    if #plume.runtime.callstack <= 500 then
                                        local success, callResult, cip, source = plume.run (meta, params)
                                        if success then
                                            table.remove (plume.runtime.callstack)
                                            _ret214 = callResult
                                            goto _inline_end490
                                        else
                                            vmserr = {callResult, cip, (source or meta)}
                                        end
                                    else
                                        vmerr = plume.error.stackOverflow ()
                                    end
                                    ::_inline_end490::
                                    _ret211, _ret212 = _ret214
                                    goto _inline_end488
                                else
                                    _ret211, _ret212 = left, "Cannot do comparison or arithmetic with " .. tostring (tx) .. " value."
                                    goto _inline_end488
                                end
                            end
                            _ret211, _ret212 = left
                            goto _inline_end488
                        end
                        ::_inline_end488::
                        left, lerr = _ret211, _ret212
                        if lerr or rerr then
                            local _ret205
                            do
                                local meta, param1, param2, paramself
                                local _ret206
                                _ret206 = type (left) == "table" and (left == empty or left.type) or (type (left) == "cdata" and left.type) or type (left)
                                local tleft = _ret206
                                local _ret207
                                _ret207 = type (right) == "table" and (right == empty or right.type) or (type (right) == "cdata" and right.type) or type (right)
                                local tright = _ret207
                                if tleft == "table" and left.meta and left.meta.table.subr then
                                    meta = left.meta.table.subr
                                    param1 = right
                                    paramself = left
                                elseif tright == "table" and right.meta and right.meta.table.subl then
                                    meta = right.meta.table.subl
                                    param1 = left
                                    paramself = right
                                elseif tleft == "table" and left.meta and left.meta.table.sub then
                                    meta = left.meta.table.sub
                                    param1 = left
                                    param2 = right
                                    paramself = left
                                elseif tright == "table" and right.meta and right.meta.table.sub then
                                    meta = right.meta.table.sub
                                    param1 = left
                                    param2 = right
                                    paramself = right
                                end
                                if meta then
                                    mainStackFramesPointer = mainStackFramesPointer + 1
                                    mainStackFrames[mainStackFramesPointer] = mainStackPointer + 1
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = param1
                                    if param2 then
                                        mainStackPointer = mainStackPointer + 1
                                        mainStack[mainStackPointer] = param2
                                    end
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = paramself
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = "self"
                                    do
                                        local _ret208
                                        _ret208 = mainStackPointer
                                        local pos = _ret208
                                        tagStack[pos] = "key"
                                    end
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = meta
                                    do
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = plume.ops.CONCAT_CALL
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = 0
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = 0
                                        local _ret209
                                        _ret209 = macroStackPointer
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = _ret209
                                    end
                                end
                                _ret205 = meta
                                goto _inline_end466
                            end
                            ::_inline_end466::
                            local meta = _ret205
                            if not meta then
                                vmerr = lerr or rerr
                            end
                        else
                            local _ret210
                            _ret210 = left - right
                            goto _inline_end487
                            ::_inline_end487::
                            result = _ret210
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = result
                        end
                    end
                end
                goto DISPATCH
            ::OP_DIV::
                do
                    local _ret219
                    mainStackPointer = mainStackPointer - 1
                    _ret219 = mainStack[mainStackPointer + 1]
                    local right = _ret219
                    local _ret220
                    mainStackPointer = mainStackPointer - 1
                    _ret220 = mainStack[mainStackPointer + 1]
                    local left = _ret220
                    local rightNumber = tonumber (right)
                    local leftNumber = tonumber (left)
                    if rightNumber and leftNumber then
                        local _ret221
                        _ret221 = leftNumber / rightNumber
                        result = _ret221
                        mainStackPointer = mainStackPointer + 1
                        mainStack[mainStackPointer] = result
                    else
                        local rerr, lerr
                        local _ret232, _ret233
                        do
                            local _ret234
                            _ret234 = type (right) == "table" and (right == empty or right.type) or (type (right) == "cdata" and right.type) or type (right)
                            local tx = _ret234
                            if tx == "string" then
                                right = tonumber (right)
                                if not right then
                                    _ret232, _ret233 = right, "Cannot convert the string value to a number."
                                    goto _inline_end531
                                end
                            elseif tx ~= "number" then
                                if tx == "table" and right.meta.table.tonumber then
                                    local meta = right.meta.table.tonumber
                                    local params = {}
                                    local _ret235
                                    table.insert (plume.runtime.callstack, {chunk = plume.runtime, macro = meta, ip = ip})
                                    if #plume.runtime.callstack <= 500 then
                                        local success, callResult, cip, source = plume.run (meta, params)
                                        if success then
                                            table.remove (plume.runtime.callstack)
                                            _ret235 = callResult
                                            goto _inline_end533
                                        else
                                            vmserr = {callResult, cip, (source or meta)}
                                        end
                                    else
                                        vmerr = plume.error.stackOverflow ()
                                    end
                                    ::_inline_end533::
                                    _ret232, _ret233 = _ret235
                                    goto _inline_end531
                                else
                                    _ret232, _ret233 = right, "Cannot do comparison or arithmetic with " .. tostring (tx) .. " value."
                                    goto _inline_end531
                                end
                            end
                            _ret232, _ret233 = right
                            goto _inline_end531
                        end
                        ::_inline_end531::
                        right, rerr = _ret232, _ret233
                        local _ret228, _ret229
                        do
                            local _ret230
                            _ret230 = type (left) == "table" and (left == empty or left.type) or (type (left) == "cdata" and left.type) or type (left)
                            local tx = _ret230
                            if tx == "string" then
                                left = tonumber (left)
                                if not left then
                                    _ret228, _ret229 = left, "Cannot convert the string value to a number."
                                    goto _inline_end526
                                end
                            elseif tx ~= "number" then
                                if tx == "table" and left.meta.table.tonumber then
                                    local meta = left.meta.table.tonumber
                                    local params = {}
                                    local _ret231
                                    table.insert (plume.runtime.callstack, {chunk = plume.runtime, macro = meta, ip = ip})
                                    if #plume.runtime.callstack <= 500 then
                                        local success, callResult, cip, source = plume.run (meta, params)
                                        if success then
                                            table.remove (plume.runtime.callstack)
                                            _ret231 = callResult
                                            goto _inline_end528
                                        else
                                            vmserr = {callResult, cip, (source or meta)}
                                        end
                                    else
                                        vmerr = plume.error.stackOverflow ()
                                    end
                                    ::_inline_end528::
                                    _ret228, _ret229 = _ret231
                                    goto _inline_end526
                                else
                                    _ret228, _ret229 = left, "Cannot do comparison or arithmetic with " .. tostring (tx) .. " value."
                                    goto _inline_end526
                                end
                            end
                            _ret228, _ret229 = left
                            goto _inline_end526
                        end
                        ::_inline_end526::
                        left, lerr = _ret228, _ret229
                        if lerr or rerr then
                            local _ret222
                            do
                                local meta, param1, param2, paramself
                                local _ret223
                                _ret223 = type (left) == "table" and (left == empty or left.type) or (type (left) == "cdata" and left.type) or type (left)
                                local tleft = _ret223
                                local _ret224
                                _ret224 = type (right) == "table" and (right == empty or right.type) or (type (right) == "cdata" and right.type) or type (right)
                                local tright = _ret224
                                if tleft == "table" and left.meta and left.meta.table.divr then
                                    meta = left.meta.table.divr
                                    param1 = right
                                    paramself = left
                                elseif tright == "table" and right.meta and right.meta.table.divl then
                                    meta = right.meta.table.divl
                                    param1 = left
                                    paramself = right
                                elseif tleft == "table" and left.meta and left.meta.table.div then
                                    meta = left.meta.table.div
                                    param1 = left
                                    param2 = right
                                    paramself = left
                                elseif tright == "table" and right.meta and right.meta.table.div then
                                    meta = right.meta.table.div
                                    param1 = left
                                    param2 = right
                                    paramself = right
                                end
                                if meta then
                                    mainStackFramesPointer = mainStackFramesPointer + 1
                                    mainStackFrames[mainStackFramesPointer] = mainStackPointer + 1
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = param1
                                    if param2 then
                                        mainStackPointer = mainStackPointer + 1
                                        mainStack[mainStackPointer] = param2
                                    end
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = paramself
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = "self"
                                    do
                                        local _ret225
                                        _ret225 = mainStackPointer
                                        local pos = _ret225
                                        tagStack[pos] = "key"
                                    end
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = meta
                                    do
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = plume.ops.CONCAT_CALL
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = 0
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = 0
                                        local _ret226
                                        _ret226 = macroStackPointer
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = _ret226
                                    end
                                end
                                _ret222 = meta
                                goto _inline_end504
                            end
                            ::_inline_end504::
                            local meta = _ret222
                            if not meta then
                                vmerr = lerr or rerr
                            end
                        else
                            local _ret227
                            _ret227 = left / right
                            goto _inline_end525
                            ::_inline_end525::
                            result = _ret227
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = result
                        end
                    end
                end
                goto DISPATCH
            ::OP_NEG::
                do
                    local _ret236
                    mainStackPointer = mainStackPointer - 1
                    _ret236 = mainStack[mainStackPointer + 1]
                    local x = _ret236
                    local err, meta
                    local _ret237, _ret238
                    do
                        local _ret239
                        _ret239 = type (x) == "table" and (x == empty or x.type) or (type (x) == "cdata" and x.type) or type (x)
                        local tx = _ret239
                        if tx == "string" then
                            x = tonumber (x)
                            if not x then
                                _ret237, _ret238 = x, "Cannot convert the string value to a number."
                                goto _inline_end539
                            end
                        elseif tx ~= "number" then
                            if tx == "table" and x.meta.table.tonumber then
                                local meta = x.meta.table.tonumber
                                local params = {}
                                local _ret240
                                table.insert (plume.runtime.callstack, {chunk = plume.runtime, macro = meta, ip = ip})
                                if #plume.runtime.callstack <= 500 then
                                    local success, callResult, cip, source = plume.run (meta, params)
                                    if success then
                                        table.remove (plume.runtime.callstack)
                                        _ret240 = callResult
                                        goto _inline_end541
                                    else
                                        vmserr = {callResult, cip, (source or meta)}
                                    end
                                else
                                    vmerr = plume.error.stackOverflow ()
                                end
                                ::_inline_end541::
                                _ret237, _ret238 = _ret240
                                goto _inline_end539
                            else
                                _ret237, _ret238 = x, "Cannot do comparison or arithmetic with " .. tostring (tx) .. " value."
                                goto _inline_end539
                            end
                        end
                        _ret237, _ret238 = x
                        goto _inline_end539
                    end
                    ::_inline_end539::
                    x, err = _ret237, _ret238
                    if err then
                        local _ret241
                        do
                            local meta
                            local _ret242
                            _ret242 = type (x) == "table" and (x == empty or x.type) or (type (x) == "cdata" and x.type) or type (x)
                            if _ret242 == "table" and x.meta and x.meta.table.minus then
                                meta = x.meta.table.minus
                            end
                            if meta then
                                mainStackFramesPointer = mainStackFramesPointer + 1
                                mainStackFrames[mainStackFramesPointer] = mainStackPointer + 1
                                mainStackPointer = mainStackPointer + 1
                                mainStack[mainStackPointer] = paramself
                                mainStackPointer = mainStackPointer + 1
                                mainStack[mainStackPointer] = "self"
                                do
                                    local _ret243
                                    _ret243 = mainStackPointer
                                    local pos = _ret243
                                    tagStack[pos] = "key"
                                end
                                mainStackPointer = mainStackPointer + 1
                                mainStack[mainStackPointer] = meta
                                do
                                    injectionStackPointer = injectionStackPointer + 1
                                    injectionStack[injectionStackPointer] = plume.ops.CONCAT_CALL
                                    injectionStackPointer = injectionStackPointer + 1
                                    injectionStack[injectionStackPointer] = 0
                                    injectionStackPointer = injectionStackPointer + 1
                                    injectionStack[injectionStackPointer] = 0
                                    local _ret244
                                    _ret244 = macroStackPointer
                                    injectionStackPointer = injectionStackPointer + 1
                                    injectionStack[injectionStackPointer] = _ret244
                                end
                            end
                            _ret241 = meta
                            goto _inline_end544
                        end
                        ::_inline_end544::
                        meta = _ret241
                        if not meta then
                            vmerr = err
                        end
                    else
                        local _ret245
                        _ret245 = -x
                        goto _inline_end561
                        ::_inline_end561::
                        mainStackPointer = mainStackPointer + 1
                        mainStack[mainStackPointer] = _ret245
                    end
                end
                goto DISPATCH
            ::OP_MOD::
                do
                    local _ret246
                    mainStackPointer = mainStackPointer - 1
                    _ret246 = mainStack[mainStackPointer + 1]
                    local right = _ret246
                    local _ret247
                    mainStackPointer = mainStackPointer - 1
                    _ret247 = mainStack[mainStackPointer + 1]
                    local left = _ret247
                    local rightNumber = tonumber (right)
                    local leftNumber = tonumber (left)
                    if rightNumber and leftNumber then
                        local _ret248
                        _ret248 = leftNumber % rightNumber
                        result = _ret248
                        mainStackPointer = mainStackPointer + 1
                        mainStack[mainStackPointer] = result
                    else
                        local rerr, lerr
                        local _ret259, _ret260
                        do
                            local _ret261
                            _ret261 = type (right) == "table" and (right == empty or right.type) or (type (right) == "cdata" and right.type) or type (right)
                            local tx = _ret261
                            if tx == "string" then
                                right = tonumber (right)
                                if not right then
                                    _ret259, _ret260 = right, "Cannot convert the string value to a number."
                                    goto _inline_end596
                                end
                            elseif tx ~= "number" then
                                if tx == "table" and right.meta.table.tonumber then
                                    local meta = right.meta.table.tonumber
                                    local params = {}
                                    local _ret262
                                    table.insert (plume.runtime.callstack, {chunk = plume.runtime, macro = meta, ip = ip})
                                    if #plume.runtime.callstack <= 500 then
                                        local success, callResult, cip, source = plume.run (meta, params)
                                        if success then
                                            table.remove (plume.runtime.callstack)
                                            _ret262 = callResult
                                            goto _inline_end598
                                        else
                                            vmserr = {callResult, cip, (source or meta)}
                                        end
                                    else
                                        vmerr = plume.error.stackOverflow ()
                                    end
                                    ::_inline_end598::
                                    _ret259, _ret260 = _ret262
                                    goto _inline_end596
                                else
                                    _ret259, _ret260 = right, "Cannot do comparison or arithmetic with " .. tostring (tx) .. " value."
                                    goto _inline_end596
                                end
                            end
                            _ret259, _ret260 = right
                            goto _inline_end596
                        end
                        ::_inline_end596::
                        right, rerr = _ret259, _ret260
                        local _ret255, _ret256
                        do
                            local _ret257
                            _ret257 = type (left) == "table" and (left == empty or left.type) or (type (left) == "cdata" and left.type) or type (left)
                            local tx = _ret257
                            if tx == "string" then
                                left = tonumber (left)
                                if not left then
                                    _ret255, _ret256 = left, "Cannot convert the string value to a number."
                                    goto _inline_end591
                                end
                            elseif tx ~= "number" then
                                if tx == "table" and left.meta.table.tonumber then
                                    local meta = left.meta.table.tonumber
                                    local params = {}
                                    local _ret258
                                    table.insert (plume.runtime.callstack, {chunk = plume.runtime, macro = meta, ip = ip})
                                    if #plume.runtime.callstack <= 500 then
                                        local success, callResult, cip, source = plume.run (meta, params)
                                        if success then
                                            table.remove (plume.runtime.callstack)
                                            _ret258 = callResult
                                            goto _inline_end593
                                        else
                                            vmserr = {callResult, cip, (source or meta)}
                                        end
                                    else
                                        vmerr = plume.error.stackOverflow ()
                                    end
                                    ::_inline_end593::
                                    _ret255, _ret256 = _ret258
                                    goto _inline_end591
                                else
                                    _ret255, _ret256 = left, "Cannot do comparison or arithmetic with " .. tostring (tx) .. " value."
                                    goto _inline_end591
                                end
                            end
                            _ret255, _ret256 = left
                            goto _inline_end591
                        end
                        ::_inline_end591::
                        left, lerr = _ret255, _ret256
                        if lerr or rerr then
                            local _ret249
                            do
                                local meta, param1, param2, paramself
                                local _ret250
                                _ret250 = type (left) == "table" and (left == empty or left.type) or (type (left) == "cdata" and left.type) or type (left)
                                local tleft = _ret250
                                local _ret251
                                _ret251 = type (right) == "table" and (right == empty or right.type) or (type (right) == "cdata" and right.type) or type (right)
                                local tright = _ret251
                                if tleft == "table" and left.meta and left.meta.table.modr then
                                    meta = left.meta.table.modr
                                    param1 = right
                                    paramself = left
                                elseif tright == "table" and right.meta and right.meta.table.modl then
                                    meta = right.meta.table.modl
                                    param1 = left
                                    paramself = right
                                elseif tleft == "table" and left.meta and left.meta.table.mod then
                                    meta = left.meta.table.mod
                                    param1 = left
                                    param2 = right
                                    paramself = left
                                elseif tright == "table" and right.meta and right.meta.table.mod then
                                    meta = right.meta.table.mod
                                    param1 = left
                                    param2 = right
                                    paramself = right
                                end
                                if meta then
                                    mainStackFramesPointer = mainStackFramesPointer + 1
                                    mainStackFrames[mainStackFramesPointer] = mainStackPointer + 1
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = param1
                                    if param2 then
                                        mainStackPointer = mainStackPointer + 1
                                        mainStack[mainStackPointer] = param2
                                    end
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = paramself
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = "self"
                                    do
                                        local _ret252
                                        _ret252 = mainStackPointer
                                        local pos = _ret252
                                        tagStack[pos] = "key"
                                    end
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = meta
                                    do
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = plume.ops.CONCAT_CALL
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = 0
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = 0
                                        local _ret253
                                        _ret253 = macroStackPointer
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = _ret253
                                    end
                                end
                                _ret249 = meta
                                goto _inline_end569
                            end
                            ::_inline_end569::
                            local meta = _ret249
                            if not meta then
                                vmerr = lerr or rerr
                            end
                        else
                            local _ret254
                            _ret254 = left % right
                            goto _inline_end590
                            ::_inline_end590::
                            result = _ret254
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = result
                        end
                    end
                end
                goto DISPATCH
            ::OP_POW::
                do
                    local _ret263
                    mainStackPointer = mainStackPointer - 1
                    _ret263 = mainStack[mainStackPointer + 1]
                    local right = _ret263
                    local _ret264
                    mainStackPointer = mainStackPointer - 1
                    _ret264 = mainStack[mainStackPointer + 1]
                    local left = _ret264
                    local rightNumber = tonumber (right)
                    local leftNumber = tonumber (left)
                    if rightNumber and leftNumber then
                        local _ret265
                        _ret265 = leftNumber ^ rightNumber
                        result = _ret265
                        mainStackPointer = mainStackPointer + 1
                        mainStack[mainStackPointer] = result
                    else
                        local rerr, lerr
                        local _ret276, _ret277
                        do
                            local _ret278
                            _ret278 = type (right) == "table" and (right == empty or right.type) or (type (right) == "cdata" and right.type) or type (right)
                            local tx = _ret278
                            if tx == "string" then
                                right = tonumber (right)
                                if not right then
                                    _ret276, _ret277 = right, "Cannot convert the string value to a number."
                                    goto _inline_end634
                                end
                            elseif tx ~= "number" then
                                if tx == "table" and right.meta.table.tonumber then
                                    local meta = right.meta.table.tonumber
                                    local params = {}
                                    local _ret279
                                    table.insert (plume.runtime.callstack, {chunk = plume.runtime, macro = meta, ip = ip})
                                    if #plume.runtime.callstack <= 500 then
                                        local success, callResult, cip, source = plume.run (meta, params)
                                        if success then
                                            table.remove (plume.runtime.callstack)
                                            _ret279 = callResult
                                            goto _inline_end636
                                        else
                                            vmserr = {callResult, cip, (source or meta)}
                                        end
                                    else
                                        vmerr = plume.error.stackOverflow ()
                                    end
                                    ::_inline_end636::
                                    _ret276, _ret277 = _ret279
                                    goto _inline_end634
                                else
                                    _ret276, _ret277 = right, "Cannot do comparison or arithmetic with " .. tostring (tx) .. " value."
                                    goto _inline_end634
                                end
                            end
                            _ret276, _ret277 = right
                            goto _inline_end634
                        end
                        ::_inline_end634::
                        right, rerr = _ret276, _ret277
                        local _ret272, _ret273
                        do
                            local _ret274
                            _ret274 = type (left) == "table" and (left == empty or left.type) or (type (left) == "cdata" and left.type) or type (left)
                            local tx = _ret274
                            if tx == "string" then
                                left = tonumber (left)
                                if not left then
                                    _ret272, _ret273 = left, "Cannot convert the string value to a number."
                                    goto _inline_end629
                                end
                            elseif tx ~= "number" then
                                if tx == "table" and left.meta.table.tonumber then
                                    local meta = left.meta.table.tonumber
                                    local params = {}
                                    local _ret275
                                    table.insert (plume.runtime.callstack, {chunk = plume.runtime, macro = meta, ip = ip})
                                    if #plume.runtime.callstack <= 500 then
                                        local success, callResult, cip, source = plume.run (meta, params)
                                        if success then
                                            table.remove (plume.runtime.callstack)
                                            _ret275 = callResult
                                            goto _inline_end631
                                        else
                                            vmserr = {callResult, cip, (source or meta)}
                                        end
                                    else
                                        vmerr = plume.error.stackOverflow ()
                                    end
                                    ::_inline_end631::
                                    _ret272, _ret273 = _ret275
                                    goto _inline_end629
                                else
                                    _ret272, _ret273 = left, "Cannot do comparison or arithmetic with " .. tostring (tx) .. " value."
                                    goto _inline_end629
                                end
                            end
                            _ret272, _ret273 = left
                            goto _inline_end629
                        end
                        ::_inline_end629::
                        left, lerr = _ret272, _ret273
                        if lerr or rerr then
                            local _ret266
                            do
                                local meta, param1, param2, paramself
                                local _ret267
                                _ret267 = type (left) == "table" and (left == empty or left.type) or (type (left) == "cdata" and left.type) or type (left)
                                local tleft = _ret267
                                local _ret268
                                _ret268 = type (right) == "table" and (right == empty or right.type) or (type (right) == "cdata" and right.type) or type (right)
                                local tright = _ret268
                                if tleft == "table" and left.meta and left.meta.table.powr then
                                    meta = left.meta.table.powr
                                    param1 = right
                                    paramself = left
                                elseif tright == "table" and right.meta and right.meta.table.powl then
                                    meta = right.meta.table.powl
                                    param1 = left
                                    paramself = right
                                elseif tleft == "table" and left.meta and left.meta.table.pow then
                                    meta = left.meta.table.pow
                                    param1 = left
                                    param2 = right
                                    paramself = left
                                elseif tright == "table" and right.meta and right.meta.table.pow then
                                    meta = right.meta.table.pow
                                    param1 = left
                                    param2 = right
                                    paramself = right
                                end
                                if meta then
                                    mainStackFramesPointer = mainStackFramesPointer + 1
                                    mainStackFrames[mainStackFramesPointer] = mainStackPointer + 1
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = param1
                                    if param2 then
                                        mainStackPointer = mainStackPointer + 1
                                        mainStack[mainStackPointer] = param2
                                    end
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = paramself
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = "self"
                                    do
                                        local _ret269
                                        _ret269 = mainStackPointer
                                        local pos = _ret269
                                        tagStack[pos] = "key"
                                    end
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = meta
                                    do
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = plume.ops.CONCAT_CALL
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = 0
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = 0
                                        local _ret270
                                        _ret270 = macroStackPointer
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = _ret270
                                    end
                                end
                                _ret266 = meta
                                goto _inline_end607
                            end
                            ::_inline_end607::
                            local meta = _ret266
                            if not meta then
                                vmerr = lerr or rerr
                            end
                        else
                            local _ret271
                            _ret271 = left ^ right
                            goto _inline_end628
                            ::_inline_end628::
                            result = _ret271
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = result
                        end
                    end
                end
                goto DISPATCH
            ::OP_LT::
                do
                    local _ret280
                    mainStackPointer = mainStackPointer - 1
                    _ret280 = mainStack[mainStackPointer + 1]
                    local right = _ret280
                    local _ret281
                    mainStackPointer = mainStackPointer - 1
                    _ret281 = mainStack[mainStackPointer + 1]
                    local left = _ret281
                    local rightNumber = tonumber (right)
                    local leftNumber = tonumber (left)
                    if rightNumber and leftNumber then
                        local _ret282
                        _ret282 = leftNumber < rightNumber
                        result = _ret282
                        mainStackPointer = mainStackPointer + 1
                        mainStack[mainStackPointer] = result
                    else
                        local rerr, lerr
                        local _ret293, _ret294
                        do
                            local _ret295
                            _ret295 = type (right) == "table" and (right == empty or right.type) or (type (right) == "cdata" and right.type) or type (right)
                            local tx = _ret295
                            if tx == "string" then
                                right = tonumber (right)
                                if not right then
                                    _ret293, _ret294 = right, "Cannot convert the string value to a number."
                                    goto _inline_end672
                                end
                            elseif tx ~= "number" then
                                if tx == "table" and right.meta.table.tonumber then
                                    local meta = right.meta.table.tonumber
                                    local params = {}
                                    local _ret296
                                    table.insert (plume.runtime.callstack, {chunk = plume.runtime, macro = meta, ip = ip})
                                    if #plume.runtime.callstack <= 500 then
                                        local success, callResult, cip, source = plume.run (meta, params)
                                        if success then
                                            table.remove (plume.runtime.callstack)
                                            _ret296 = callResult
                                            goto _inline_end674
                                        else
                                            vmserr = {callResult, cip, (source or meta)}
                                        end
                                    else
                                        vmerr = plume.error.stackOverflow ()
                                    end
                                    ::_inline_end674::
                                    _ret293, _ret294 = _ret296
                                    goto _inline_end672
                                else
                                    _ret293, _ret294 = right, "Cannot do comparison or arithmetic with " .. tostring (tx) .. " value."
                                    goto _inline_end672
                                end
                            end
                            _ret293, _ret294 = right
                            goto _inline_end672
                        end
                        ::_inline_end672::
                        right, rerr = _ret293, _ret294
                        local _ret289, _ret290
                        do
                            local _ret291
                            _ret291 = type (left) == "table" and (left == empty or left.type) or (type (left) == "cdata" and left.type) or type (left)
                            local tx = _ret291
                            if tx == "string" then
                                left = tonumber (left)
                                if not left then
                                    _ret289, _ret290 = left, "Cannot convert the string value to a number."
                                    goto _inline_end667
                                end
                            elseif tx ~= "number" then
                                if tx == "table" and left.meta.table.tonumber then
                                    local meta = left.meta.table.tonumber
                                    local params = {}
                                    local _ret292
                                    table.insert (plume.runtime.callstack, {chunk = plume.runtime, macro = meta, ip = ip})
                                    if #plume.runtime.callstack <= 500 then
                                        local success, callResult, cip, source = plume.run (meta, params)
                                        if success then
                                            table.remove (plume.runtime.callstack)
                                            _ret292 = callResult
                                            goto _inline_end669
                                        else
                                            vmserr = {callResult, cip, (source or meta)}
                                        end
                                    else
                                        vmerr = plume.error.stackOverflow ()
                                    end
                                    ::_inline_end669::
                                    _ret289, _ret290 = _ret292
                                    goto _inline_end667
                                else
                                    _ret289, _ret290 = left, "Cannot do comparison or arithmetic with " .. tostring (tx) .. " value."
                                    goto _inline_end667
                                end
                            end
                            _ret289, _ret290 = left
                            goto _inline_end667
                        end
                        ::_inline_end667::
                        left, lerr = _ret289, _ret290
                        if lerr or rerr then
                            local _ret283
                            do
                                local meta, param1, param2, paramself
                                local _ret284
                                _ret284 = type (left) == "table" and (left == empty or left.type) or (type (left) == "cdata" and left.type) or type (left)
                                local tleft = _ret284
                                local _ret285
                                _ret285 = type (right) == "table" and (right == empty or right.type) or (type (right) == "cdata" and right.type) or type (right)
                                local tright = _ret285
                                if tleft == "table" and left.meta and left.meta.table.ltr then
                                    meta = left.meta.table.ltr
                                    param1 = right
                                    paramself = left
                                elseif tright == "table" and right.meta and right.meta.table.ltl then
                                    meta = right.meta.table.ltl
                                    param1 = left
                                    paramself = right
                                elseif tleft == "table" and left.meta and left.meta.table.lt then
                                    meta = left.meta.table.lt
                                    param1 = left
                                    param2 = right
                                    paramself = left
                                elseif tright == "table" and right.meta and right.meta.table.lt then
                                    meta = right.meta.table.lt
                                    param1 = left
                                    param2 = right
                                    paramself = right
                                end
                                if meta then
                                    mainStackFramesPointer = mainStackFramesPointer + 1
                                    mainStackFrames[mainStackFramesPointer] = mainStackPointer + 1
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = param1
                                    if param2 then
                                        mainStackPointer = mainStackPointer + 1
                                        mainStack[mainStackPointer] = param2
                                    end
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = paramself
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = "self"
                                    do
                                        local _ret286
                                        _ret286 = mainStackPointer
                                        local pos = _ret286
                                        tagStack[pos] = "key"
                                    end
                                    mainStackPointer = mainStackPointer + 1
                                    mainStack[mainStackPointer] = meta
                                    do
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = plume.ops.CONCAT_CALL
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = 0
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = 0
                                        local _ret287
                                        _ret287 = macroStackPointer
                                        injectionStackPointer = injectionStackPointer + 1
                                        injectionStack[injectionStackPointer] = _ret287
                                    end
                                end
                                _ret283 = meta
                                goto _inline_end645
                            end
                            ::_inline_end645::
                            local meta = _ret283
                            if not meta then
                                vmerr = lerr or rerr
                            end
                        else
                            local _ret288
                            _ret288 = left < right
                            goto _inline_end666
                            ::_inline_end666::
                            result = _ret288
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = result
                        end
                    end
                end
                goto DISPATCH
            ::OP_EQ::
                do
                    local _ret297
                    mainStackPointer = mainStackPointer - 1
                    _ret297 = mainStack[mainStackPointer + 1]
                    local right = _ret297
                    local _ret298
                    mainStackPointer = mainStackPointer - 1
                    _ret298 = mainStack[mainStackPointer + 1]
                    local left = _ret298
                    local _ret299
                    do
                        local meta, param1, param2, paramself
                        local _ret300
                        _ret300 = type (left) == "table" and (left == empty or left.type) or (type (left) == "cdata" and left.type) or type (left)
                        local tleft = _ret300
                        local _ret301
                        _ret301 = type (right) == "table" and (right == empty or right.type) or (type (right) == "cdata" and right.type) or type (right)
                        local tright = _ret301
                        if tleft == "table" and left.meta and left.meta.table.eqr then
                            meta = left.meta.table.eqr
                            param1 = right
                            paramself = left
                        elseif tright == "table" and right.meta and right.meta.table.eql then
                            meta = right.meta.table.eql
                            param1 = left
                            paramself = right
                        elseif tleft == "table" and left.meta and left.meta.table.eq then
                            meta = left.meta.table.eq
                            param1 = left
                            param2 = right
                            paramself = left
                        elseif tright == "table" and right.meta and right.meta.table.eq then
                            meta = right.meta.table.eq
                            param1 = left
                            param2 = right
                            paramself = right
                        end
                        if meta then
                            mainStackFramesPointer = mainStackFramesPointer + 1
                            mainStackFrames[mainStackFramesPointer] = mainStackPointer + 1
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = param1
                            if param2 then
                                mainStackPointer = mainStackPointer + 1
                                mainStack[mainStackPointer] = param2
                            end
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = paramself
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = "self"
                            do
                                local _ret302
                                _ret302 = mainStackPointer
                                local pos = _ret302
                                tagStack[pos] = "key"
                            end
                            mainStackPointer = mainStackPointer + 1
                            mainStack[mainStackPointer] = meta
                            do
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = plume.ops.CONCAT_CALL
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = 0
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = 0
                                local _ret303
                                _ret303 = macroStackPointer
                                injectionStackPointer = injectionStackPointer + 1
                                injectionStack[injectionStackPointer] = _ret303
                            end
                        end
                        _ret299 = meta
                        goto _inline_end680
                    end
                    ::_inline_end680::
                    local meta = _ret299
                    if not meta then
                        local result = left == right or tonumber (left) and tonumber (left) == tonumber (right) or (false)
                        mainStackPointer = mainStackPointer + 1
                        mainStack[mainStackPointer] = result
                    end
                end
                goto DISPATCH
            ::OP_AND::
                do
                    local _ret304
                    mainStackPointer = mainStackPointer - 1
                    _ret304 = mainStack[mainStackPointer + 1]
                    local right = _ret304
                    local _ret305
                    mainStackPointer = mainStackPointer - 1
                    _ret305 = mainStack[mainStackPointer + 1]
                    local left = _ret305
                    local _ret306
                    if right == empty then
                        _ret306 = false
                        goto _inline_end704
                    end
                    _ret306 = right
                    ::_inline_end704::
                    right = _ret306
                    local _ret307
                    if left == empty then
                        _ret307 = false
                        goto _inline_end705
                    end
                    _ret307 = left
                    ::_inline_end705::
                    left = _ret307
                    local _ret308
                    _ret308 = right and left
                    mainStackPointer = mainStackPointer + 1
                    mainStack[mainStackPointer] = _ret308
                end
                goto DISPATCH
            ::OP_NOT::
                do
                    local _ret309
                    mainStackPointer = mainStackPointer - 1
                    _ret309 = mainStack[mainStackPointer + 1]
                    local x = _ret309
                    local _ret310
                    if x == empty then
                        _ret310 = false
                        goto _inline_end711
                    end
                    _ret310 = x
                    ::_inline_end711::
                    x = _ret310
                    local _ret311
                    _ret311 = not x
                    mainStackPointer = mainStackPointer + 1
                    mainStack[mainStackPointer] = _ret311
                end
                goto DISPATCH
            ::OP_OR::
                do
                    local _ret312
                    mainStackPointer = mainStackPointer - 1
                    _ret312 = mainStack[mainStackPointer + 1]
                    local right = _ret312
                    local _ret313
                    mainStackPointer = mainStackPointer - 1
                    _ret313 = mainStack[mainStackPointer + 1]
                    local left = _ret313
                    local _ret314
                    if right == empty then
                        _ret314 = false
                        goto _inline_end718
                    end
                    _ret314 = right
                    ::_inline_end718::
                    right = _ret314
                    local _ret315
                    if left == empty then
                        _ret315 = false
                        goto _inline_end719
                    end
                    _ret315 = left
                    ::_inline_end719::
                    left = _ret315
                    local _ret316
                    _ret316 = right or left
                    mainStackPointer = mainStackPointer + 1
                    mainStack[mainStackPointer] = _ret316
                end
                goto DISPATCH
            ::DUPLICATE::
                do
                    local _ret317
                    _ret317 = mainStack[mainStackPointer]
                    mainStackPointer = mainStackPointer + 1
                    mainStack[mainStackPointer] = _ret317
                end
                goto DISPATCH
            ::SWITCH::
                do
                    local _ret318
                    mainStackPointer = mainStackPointer - 1
                    _ret318 = mainStack[mainStackPointer + 1]
                    local x = _ret318
                    local _ret319
                    mainStackPointer = mainStackPointer - 1
                    _ret319 = mainStack[mainStackPointer + 1]
                    local y = _ret319
                    mainStackPointer = mainStackPointer + 1
                    mainStack[mainStackPointer] = x
                    mainStackPointer = mainStackPointer + 1
                    mainStack[mainStackPointer] = y
                end
                goto DISPATCH
            ::RETURN::
                do
                    do
                        local _ret320
                        variableStackFramesPointer = variableStackFramesPointer - 1
                        _ret320 = variableStackFrames[variableStackFramesPointer + 1]
                        variableStackPointer = _ret320 - 1
                    end
                    table.remove (runtime.callstack)
                    local _ret321
                    macroStackPointer = macroStackPointer - 1
                    _ret321 = macroStack[macroStackPointer + 1]
                    jump = _ret321
                end
                goto DISPATCH
            ::RETURN_FILE::
                RETURN_FILE (vm, arg1, arg2)
                goto DISPATCH
            ::STD_LEN::
                do
                    local _ret322
                    mainStackPointer = mainStackPointer - 1
                    _ret322 = mainStack[mainStackPointer + 1]
                    local t = _ret322.table[1]
                    local tt = type (t)
                    local result
                    if tt == "table" then
                        result = #t.table
                    elseif tt == "string" then
                        result = #t
                    else
                        vmerr = plume.error.hasNoLen (tt)
                    end
                    mainStackPointer = mainStackPointer + 1
                    mainStack[mainStackPointer] = result
                end
                goto DISPATCH
            ::STD_TYPE::
                do
                    local _ret323
                    mainStackPointer = mainStackPointer - 1
                    _ret323 = mainStack[mainStackPointer + 1]
                    local t = _ret323.table[1]
                    local _ret324
                    _ret324 = type (t) == "table" and (t == empty or t.type) or (type (t) == "cdata" and t.type) or type (t)
                    mainStackPointer = mainStackPointer + 1
                    mainStack[mainStackPointer] = _ret324
                end
                goto DISPATCH
            ::STD_SEQ::
                do
                    local _ret325
                    mainStackPointer = mainStackPointer - 1
                    _ret325 = mainStack[mainStackPointer + 1]
                    local args = _ret325.table
                    local start = args[1]
                    local stop = args[2]
                    local step = args[3] or 1
                    if not stop then
                        stop = start
                        start = 1
                    end
                    start = tonumber (start)
                    stop = tonumber (stop)
                    mainStackPointer = mainStackPointer + 1
                    mainStack[mainStackPointer] = {type = "stdIterator", start = start, stop = stop, step = step, flag = ITER_SEQ}
                end
                goto DISPATCH
            ::STD_ITEMS::
                do
                    local _ret326
                    mainStackPointer = mainStackPointer - 1
                    _ret326 = mainStack[mainStackPointer + 1]
                    local args = _ret326.table
                    mainStackPointer = mainStackPointer + 1
                    mainStack[mainStackPointer] = {type = "stdIterator", ref = args[1], flag = ITER_ITEMS, legacy = args.legacy}
                end
                goto DISPATCH
            ::STD_ENUMERATE::
                do
                    local _ret327
                    mainStackPointer = mainStackPointer - 1
                    _ret327 = mainStack[mainStackPointer + 1]
                    local args = _ret327.table
                    mainStackPointer = mainStackPointer + 1
                    mainStack[mainStackPointer] = {type = "stdIterator", ref = args[1], flag = ITER_ENUMS, legacy = args.legacy}
                end
                goto DISPATCH
            ::END::
            local _ret328
            _ret328 = mainStack[mainStackPointer]
            return true, _ret328
        end
    end
    